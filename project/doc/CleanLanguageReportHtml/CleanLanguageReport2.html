<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clean Language Report</title>
</head>
<body style="font-family:Helvetica">
<div><div style="position: absolute;"><svg width="355.555555555556" height="177.777777777778">
<path d="M49.7777777777778 7.32929319639176 h280.888888888889 v141.785858051661 h-280.888888888889 Z M64 33.9959598630584 h252.444444444444 v88.4525247183276 h-252.444444444444 Z" stroke="none" fill="#3F87AF" fill-rule="evenodd"/>
<path d="M64 111.781817914719 h252.444444444444 v10.6666666666667 h-252.444444444444 Z" stroke="none" fill="#8C96A0"/>
<path d="M64 33.9959598630584 h252.444444444444 v10.6666666666667 h-252.444444444444 Z" stroke="none" fill="#8C96A0"/>
<path d="M64 44.6626265297251 h252.444444444444 v67.1191913849942 h-252.444444444444 Z" stroke="none" fill="#FFFFFF"/>
<path d="M99.1179703874409 137.550135143052 C93.2711853763986 133.302197180425,88.084448516421 128.213312506961,83.725936053644 122.448484581386 L110.089961763567 122.448484581386 Z" stroke="none" fill="#8C96A0"/>
<path d="M99.1179703874409 18.8943093013927 C93.2711853763986 23.1422472640192,88.084448516421 28.2311319374834,83.725936053644 33.9959598630584 L110.089961763567 33.9959598630584 Z" stroke="none" fill="#8C96A0"/>
<path d="M126.968649704419 100.555210486665 C109.380820468897 87.7769045717629,109.380820468897 61.5564287615705,126.968649704419 48.7781228466684 L116.780371998016 34.7551616108359 C89.6658019265873 54.45504989631,89.6658019265873 94.8782834370233,116.780371998016 114.578171722497 Z" stroke="none" fill="#8C96A0"/>
<path d="M113.645517319123 118.89292902583 C83.5996423751073 97.0633230878727,83.5996423751073 52.2700102454607,113.645517319123 30.4404043075029 L102.673525942996 15.3387537458372 C62.3680839449271 44.6223714674879,62.3680839449271 104.710961865845,102.673525942996 133.994579587496 Z" stroke="none" fill="#8C96A0"/>
<path d="M123.413094148863 104.110766042221 C105.825264913342 91.3324601273184,105.825264913342 65.111984317126,123.413094148863 52.3336784022239 L113.22481644246 38.3107171663915 C86.1102463710318 58.0106054518656,86.1102463710318 98.4338389925788,113.22481644246 118.133727278053  Z" stroke="none" fill="#3F87AF"/>
<path d="M110.089961763567 122.448484581386 C80.0440868195518 100.618878643428,80.0440868195518 55.8255658010162,110.089961763567 33.9959598630584L83.725936053644 33.9959598630584 C63.9432065006372 60.1617750913602,63.9432065006372 96.2826693530842,83.725936053644 122.448484581386" stroke="none" fill="#3F87AF"/>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="145.777777777778" y="103.111111111111" fill="#8C96A0">Clean</text>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="144.888888888889" y="102.222222222222" fill="#8C96A0">Clean</text>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="144" y="101.333333333333" fill="#8C96A0">Clean</text>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="143.111111111111" y="100.444444444444" fill="#8C96A0">Clean</text>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="142.222222222222" y="99.5555555555556" fill="#3F87AF">Clean</text>
</svg>
</div><h1 style="text-align:right;background-color:#9999FF;"><a id="_2"><br>Chapter 2<br><br>Modules and Scopes</a></h1></div>
<p style="text-align:justify;">A CLEAN program is composed out of modules. Each module is stored in a file that contains CLEAN source code. There are implementation modules and definition modules, in the spirit of Modula-2 (<b>Wirth</b>, 1982). This module system is used for several reasons.</p>
<table style="width:100%;"><tr><td>
<table style="width:100%;"><tr><td style="vertical-align:top;width:30px;">-</td><td style="text-align:justify;">First of all, the module structure is used to <i>control the scope of definitions</i>. The basic idea is that definitions only have a meaning in the implementation module they are defined in unless  they are exported by the corresponding definition module.</td></tr></table>
<table style="width:100%;"><tr><td style="vertical-align:top;width:30px;">-</td><td style="text-align:justify;">Having the exported definitions collected in a separate definition module has as advantage that one in addition obtains a <i>self-contained interface document</i> one can reach out to others. The definition module is a document that defines which functions and data types can be used by others without revealing uninteresting implementation details.</td></tr></table>
<table style="width:100%;"><tr><td style="vertical-align:top;width:30px;">-</td><td style="text-align:justify;">Furthermore, the module structure enables <i>separate compilation</i> that heavily reduces compilation time. If the definition module stays the same, a change in an implementation module only will cause the recompilation of that implementation module. When the definition module is changed as well, only those implementation modules that are affected by this change need to be recompiled.</td></tr></table>
</td></tr></table>
<p style="text-align:justify;">In this Chapter we explain the module structure of CLEAN and the influence it has on the scope of definitions. New scopes can also be introduced inside modules. This is further explained in the <span style="color:blue;"><a href="#_2">Chapters 2</a></span> and <span style="color:blue;"><a href="CleanLanguageReport3.html#_3">3</a></span>.</p>
<p style="text-align:justify;">In the pictures in the subsections below nested boxes indicate nested scopes.</p>
<h2 style="background-color:#9999FF;"><a id="_2.1">2.1 Identifiers, Scopes and Name Spaces</a></h2>
<h3 style="background-color:#9999FF;"><a id="_2.1.1">2.1.1 Naming Conventions of Identifiers</a></h3>
<p style="text-align:justify;">In CLEAN we distinguish the following kind of <i>identifiers</i>.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">ModuleName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">UpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.22363636363636%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.6690909090909%;padding:0 0 4px 0;">ModuleDirectoryName <span style="font-family:courier;color:#993300;"><b>.</b></span> ModuleName</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">ModuleDirectoryName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:56.6440404040404%;padding:0 0 4px 0;" colspan="5">UpperCaseId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">FunctionName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">UpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.22363636363636%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.6690909090909%;padding:0 0 4px 0;">SymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">ConstructorName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:16.2858585858586%;padding:0 0 4px 0;" colspan="5">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">UpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.22363636363636%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.6690909090909%;padding:0 0 4px 0;">SymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">SelectorVariable</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:59.1369696969697%;padding:0 0 4px 0;" colspan="7"></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">Variable</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:59.1369696969697%;padding:0 0 4px 0;" colspan="7"></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">MacroName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">UpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.22363636363636%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.6690909090909%;padding:0 0 4px 0;">SymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">FieldName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:59.1369696969697%;padding:0 0 4px 0;" colspan="7"></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">TypeName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:16.2858585858586%;padding:0 0 4px 0;" colspan="5">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">UpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.22363636363636%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.6690909090909%;padding:0 0 4px 0;">SymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">TypeVariable</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:59.1369696969697%;padding:0 0 4px 0;" colspan="7"></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">UniqueTypeVariable</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:59.1369696969697%;padding:0 0 4px 0;" colspan="7"></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">ClassName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">UpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.22363636363636%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.6690909090909%;padding:0 0 4px 0;">SymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">MemberName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:10.7109090909091%;padding:0 0 4px 0;">UpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.22363636363636%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.6690909090909%;padding:0 0 4px 0;">SymbolId</td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">LowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">LowerCaseChar{IdChar}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">UpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">UpperCaseChar{IdChar}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">SymbolId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">{SymbolChar}+</td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">LowerCaseChar</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>a</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>b</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>c</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>d</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>e</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>f</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>g</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>h</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>i</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>j</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>k</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>l</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:4.62%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>m</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>n</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>o</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>p</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>q</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>r</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>s</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>t</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>u</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>v</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>w</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>x</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>y</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:4.62%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>z</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">UpperCaseChar</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>A</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>B</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>C</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>D</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>E</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>F</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>G</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>H</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>I</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>J</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>K</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>L</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:4.62%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>M</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>N</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>O</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>P</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>Q</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>R</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>S</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>T</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>U</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>V</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>W</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>X</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>Y</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:4.62%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>Z</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">SymbolChar</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>~</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>@</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>#</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>$</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>%</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>^</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>?</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0361616161616%;padding:0 0 4px 0;" colspan="17"><span style="font-family:courier;color:#993300;"><b>:</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>+</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>-</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>*</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>&lt;</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>&gt;</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>\</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>/</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>|</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>&amp;</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:21.4321212121212%;padding:0 0 4px 0;" colspan="13"><span style="font-family:courier;color:#993300;"><b>=</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">IdChar</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8684848484849%;padding:0 0 4px 0;" colspan="49">LowerCaseChar</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8684848484849%;padding:0 0 4px 0;" colspan="49">UpperCaseChar</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8684848484849%;padding:0 0 4px 0;" colspan="49">Digit</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>_</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:66.2644444444445%;padding:0 0 4px 0;" colspan="45"><span style="font-family:courier;color:#993300;"><b>`</b></span></td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Digit</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>0</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>1</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>2</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>3</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>4</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>5</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>6</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>7</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>8</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:21.4327272727273%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>9</b></span></td></tr>
</table><p></p>
<p style="text-align:justify;">The convention used is that variables always start with a lowercase character while constructors and types always start with an uppercase character. The other identifiers can either start with an uppercase or a lowercase character. Notice that for the identifiers names can be used consisting of a combination of lower and/or uppercase characters but one can also define identifiers constructed from special characters like <span style="font-family:courier;">+</span>, <span style="font-family:courier;">&lt;</span>, etc. (<span style="color:blue;"><a href="CleanLanguageReportA.html#_A">see Appendix A</a></span>). These two kinds of identifiers cannot be mixed. This makes it possible to leave out white space in expressions like <span style="font-family:courier;">a+1</span> (same as <span style="font-family:courier;">a + 1</span>).</p>
<p style="text-align:justify;">Some names may be prepended with the module name from which they are imported using a qualified import. These are qualified identifiers.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">QFunctionName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:12.1254545454545%;padding:0 0 4px 0;">QLowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:12.1254545454545%;padding:0 0 4px 0;">QUpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:38.5909090909091%;padding:0 0 4px 0;">QSymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">QConstructorName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:17.700404040404%;padding:0 0 4px 0;" colspan="5">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:12.1254545454545%;padding:0 0 4px 0;">QUpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:38.5909090909091%;padding:0 0 4px 0;">QSymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">QTypeName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:17.700404040404%;padding:0 0 4px 0;" colspan="5">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:12.1254545454545%;padding:0 0 4px 0;">QUpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:38.5909090909091%;padding:0 0 4px 0;">QSymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">QClassName</span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:12.1254545454545%;padding:0 0 4px 0;">QLowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:12.1254545454545%;padding:0 0 4px 0;">QUpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:38.5909090909091%;padding:0 0 4px 0;">QSymbolId</td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">QLowerCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">[ModuleQualifier]LowerCaseId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">QUpperCaseId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">[ModuleQualifier]UpperCaseId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">QSymbolId</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">[ModuleQualifier space]SymbolId</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ModuleQualifier</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>'</b></span><span style="font-family:courier;">ModuleName</span><span style="font-family:courier;color:#993300;"><b>'.</b></span></td></tr>
</table><p></p>
<h3 style="background-color:#9999FF;"><a id="_2.1.2">2.1.2 Scopes and Name Spaces</a></h3>
<p style="text-align:justify;">The <i>scope</i> is the program region in which definitions (e.g. function definition, class definition, macro definition, type definition) with the identifiers introduced (e.g. function name, class name, class variable, macro name, type constructor name, type variable name) have a meaning.</p>
<p style="text-align:justify;">It must be clear from the context to which definition an identifier is referring. If all identifiers in a scope have different names than it will always be clear which definition is meant. However, one generally wants to have a free choice in naming identifiers. If identifiers belong to different <i>name spaces</i> no conflict can arise even if the same name is used. In CLEAN the following name spaces exist:</p>
<table style="border-spacing:0;width:100%;"><tr><td style="vertical-align:top;width:30px;">&bull;</td><td style="text-align:justify;">ModuleNames form a name space;</td></tr>
<tr><td style="vertical-align:top;width:30px;">&bull;</td><td style="text-align:justify;">FunctionNames, ConstructorNames, SelectorVariables, Variables and MacroNames form a name space;</td></tr>
<tr><td style="vertical-align:top;width:30px;">&bull;</td><td style="text-align:justify;">FieldNames form a name space;</td></tr>
<tr><td style="vertical-align:top;width:30px;">&bull;</td><td style="text-align:justify;">TypeNames, TypeVariables and UniqueTypeVariables form a name space;</td></tr>
<tr><td style="vertical-align:top;width:30px;">&bull;</td><td style="text-align:justify;">ClassNames form a name space.</td></tr>
</table>
<p style="text-align:justify;">So, it is allowed to use the same identifier name for different purposes as long as the identifier belongs to different name spaces.</p>
<p></p><table style="width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Identifiers belonging to the same name space must all have different names within the same scope. Under certain conditions it is allowed to use the same name for different functions and operators (overloading, <span style="color:blue;"><a href="CleanLanguageReport6.html#_6">see Chapter 6</a></span>).</td></tr>
</table>
<h3 style="background-color:#9999FF;"><a id="_2.1.3">2.1.3 Nesting of Scopes</a></h3>
<p style="text-align:justify;">Reusing identifier names is possible by introducing a new scope level. Scopes can be nested: within a scope a new <i>nested scope</i> can be defined. Within such a nested scope new definitions can be given, new names can be introduced. As usual it is allowed in a nested scope to redefine definitions or re-use names given in a surrounding scope: When a name is re-used the old name and definition is no longer in scope and cannot be used in the new scope. A definition given or a name introduced in a (nested) scope has no meaning in surrounding scopes. It has a meaning for all scopes nested within it (unless they are redefined within such a nested scope). </p>
<h2 style="background-color:#9999FF;"><a id="_2.2">2.2 Modular Structure of Clean Programs</a></h2>
<p style="text-align:justify;">A CLEAN program consists of a collection of <i>definition modules</i> and <i>implementation modules</i>. An implementation module and a definition module <i>correspond</i> to each other if the names of the two modules are the same. The basic idea is that the definitions given in an implementation module only have a meaning in the module in which they are defined unless these definitions are exported by putting them into the corresponding definition module. In that case the definitions also have a meaning in those other modules in which the definitions are imported (<span style="color:blue;"><a href="#_2.5">see 2.5</a></span>).</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">CleanProgram</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">{Module}+</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Module</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">DefinitionModule</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">ImplementationModule</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">DefinitionModule</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#FF0000;"><b>definition module</b></span> <span style="font-family:courier;">ModuleName</span> ;</td></tr>
<tr><td style="width:26.1111111111111%;padding:0 0 4px 0;" colspan="3"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">{DefDefinition}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#FF0000;"><b>system module</b></span> <span style="font-family:courier;">ModuleName</span> ;</td></tr>
<tr><td style="width:26.1111111111111%;padding:0 0 4px 0;" colspan="3"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">{DefDefinition}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ImplementationModule</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">[<span style="font-family:courier;color:#FF0000;"><b>implementation</b></span>] <span style="font-family:courier;color:#FF0000;"><b>module</b></span> <span style="font-family:courier;">ModuleName</span> ;</td></tr>
<tr><td style="width:26.1111111111111%;padding:0 0 4px 0;" colspan="3"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">{ImplDefinition}</td></tr>
</table><p></p>
<table style="border-spacing:0;width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">An executable CLEAN program consists at least of one implementation module, the <i>main</i> or <i>start module</i>, which is the top-most module (<i>root module</i>) of a CLEAN program.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Each CLEAN module has to be put in a separate file.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">The name of a module (i.e. the module name) should be the same as the name of the file (minus the suffix) in which the module is stored.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">A <i>definition</i> module should have .<i>dcl</i> as suffix; an <i>implementation</i> module should have <i>.icl </i>as suffix.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">A definition module can have at most one corresponding implementation module.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Every implementation module (except the main module, <span style="color:blue;"><a href="#_2.3.1">see 2.3.1</a></span>) must have a corresponding definition module.</td></tr>
</table>
<h2 style="background-color:#9999FF;"><a id="_2.3">2.3 Implementation Modules</a></h2>
<h3 style="background-color:#9999FF;"><a id="_2.3.1">2.3.1 The Main or Start Module</a></h3>
<table style="border-spacing:0;width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">In the main module a <span style="font-family:courier;">Start</span> rule has to be defined (<span style="color:blue;"><a href="CleanLanguageReport1.html#_1">see Chapter 1</a></span>).</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Only in the main module one can leave out the keyword implementation in the module header. In that case the <span style="font-family:courier;">implementation module</span> does not need to have a corresponding definition module (which makes sense for a topmost module).</td></tr>
</table>
<p></p><div style="background-color:#FFFF45;">A very tiny but complete CLEAN program consisting of one implementation module.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
<span style="font-family:courier;color:#FF0000;"><b>module</b></span>&nbsp;hello<br>
<br>
Start&nbsp;=&nbsp;"Hello&nbsp;World!"<br></div>
<p></p><p style="text-align:justify;"><i>Evaluation of a</i> CLEAN <i>program</i> consists of the evaluation of the application defined in the right-hand side of the <span style="font-family:courier;">Start </span><i>rule</i> to normal form (<span style="color:blue;"><a href="CleanLanguageReport1.html#_1">see Chapter 1</a></span>). The right-hand side of the <span style="font-family:courier;">Start</span> rule is regarded to be the <i>initial expression</i> to be computed.</p>
<p style="text-align:justify;">It is allowed to have a <span style="font-family:courier;">Start</span> rule in other implementation modules as well. This can be handy for testing functions defined in such a module: to evaluate such a <span style="font-family:courier;">Start</span> rule simply generate an application with the module as root and execute it. In the CLEAN IDE one can specify which module has to be regarded as being the root module.</p>
<p style="text-align:justify;">The definition of the left-hand side of the Start rule consists of the <i>symbol </i><span style="font-family:courier;">Start</span> with one optional argument (of type <span style="font-family:courier;">*World</span>), which is the environment parameter, which is necessary to write interactive applications.</p>
<p style="text-align:justify;">A CLEAN program can run in two modes.</p>
<h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I/O Using the Console</h3>
<p style="text-align:justify;">The first mode is a <i>console mode</i>. It is chosen when the Start rule is defined as a <i>nullary</i> function.</p>
<p></p>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;">Start::&nbsp;TypeOfStartFunction<br>
Start&nbsp;=&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;initial&nbsp;expression</span><br><p></p>
<p style="text-align:justify;">In the console mode, that part of the <i>initial expression</i> (indicated by the right-hand side of the Start rule), which is in <i>root normal form</i> (also called the head normal form or root stable form), is printed as soon as possible. The console mode can be used for instance to test or debug functions.</p>
<p style="text-align:justify;">In the CLEAN IDE one can choose to print the result of a <span style="font-family:courier;">Start</span> expression <i>with</i> or <i>without</i> the data constructors.</p>
<p></p><div style="background-color:#FFFF45;">For example, the initial expression</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
Start::&nbsp;String<br>
Start&nbsp;=&nbsp;"Hello&nbsp;World!"<br>
<br></div>
<div style="background-color:#FFFF45;">in mode "show data constructors" will print: <span style="font-family:courier;">"Hello World!"</span>, in mode "don't show data constructors" it will print: <span style="font-family:courier;">Hello World!</span></div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"></div>
<p></p><h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I/O on the Unique World</h3>
<p style="text-align:justify;">The second mode is the <i>world mode</i>. It is chosen when the optional additional parameter (which is of type <span style="font-family:courier;">*World</span>) is added to the <span style="font-family:courier;">Start</span> rule and delivered as result.</p>
<p></p>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;">Start::&nbsp;*World&nbsp;-&gt;&nbsp;*World<br>
Start&nbsp;=&nbsp;...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;initial&nbsp;expression&nbsp;returning&nbsp;a&nbsp;changed&nbsp;world</span><br><p></p>
<p style="text-align:justify;">The world which is given to the initial expression is an <i>abstract data structure</i>, an <i>abstract world</i> of type *World which models <i>the concrete physical world</i> as seen from the program. The abstract world can in principle contain <i>anything</i> what a functional program needs to interact during execution with the concrete world. The world can be seen as a <i>state</i> and modifications of the world can be realized via <i>state transition functions</i> defined on the world or a part of the world. By requiring that these state transition functions work on a <i>unique</i> world the modifications of the abstract world can directly be realized in the real physical world, without loss of efficiency and without losing referential transparency (<span style="color:blue;"><a href="CleanLanguageReport9.html#_9">see Chapter 9</a></span>)</p>
<p style="text-align:justify;">The concrete way in which the world can be handled in CLEAN is determined by the system programmer. One way to handle the world is by using the predefined CLEAN I/O library, which can be regarded as a platform independent mini operating system. It makes it possible to do file I/O, window based I/O, dynamic process creation and process communication in a pure functional language in an efficient way. The definition of the I/O library is treated in a separate document (<span style="color:#0000FF;">Object IO tutorial</span>, Achten <i>et al.</i>, 1997).</p>
<h3 style="background-color:#9999FF;"><a id="_2.3.2">2.3.2 Scope of Global Definitions in Implementation Modules</a></h3>
<p style="text-align:justify;">In an implementation module the following global definitions can be specified in <i>any</i> order.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ImplDefinition</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">ImportDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="#_2.5">see 2.5</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">FunctionDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport3.html#_3">see Chapter 3</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">GraphDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport3.html#_3.6">see 3.6</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">MacroDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport10.html#_10.3">see 10.3</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">TypeDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport5.html#_5">see Chapter 5</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">ClassDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport6.html#_6">see Chapter 6</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">GenericsDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport7.html#_7">see Chapter 7</a></span></td></tr>
</table><p></p>
<p style="text-align:justify;"><i>Definitions</i> on the <i>global</i> level (= outermost level in the module,) have in principle the whole implementation module as scope (see Figure 2.1).</p>
<div style="background-color:#FFFF45;"><b>Figure 2.1</b> (Scope of global definitions inside an implementation module).</div>
<div style="position: absolute;height:16.875em;width:44.4444444444444em"><span><svg viewBox="0 0 711.111111111111 270" width="100%" height="100%">
<path d="M0 16.5 h441.6 v222 h-441.6 Z" fill="none" stroke="#000000"/>
<path d="M111.644444444444 55.5 h322.844444444444 v15 h-322.844444444444 Z" fill="none" stroke="#000000"/>
<path d="M140.444444444444 91.5 h294.044444444444 v15 h-294.044444444444 Z" fill="none" stroke="#000000"/>
<path d="M121.244444444444 109.5 h313.244444444444 v15 h-313.244444444444 Z" fill="none" stroke="#000000"/>
<path d="M102.044444444444 145.5 h332.444444444444 v15 h-332.444444444444 Z" fill="none" stroke="#000000"/>
<path d="M54.0444444444444 181.5 h380.444444444444 v15 h-380.444444444444 Z" fill="none" stroke="#000000"/>
<path d="M92.4444444444444 217.5 h342.044444444444 v15 h-342.044444444444 Z" fill="none" stroke="#000000"/>
</svg></span></div>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;"><br>
<span style="font-family:courier;color:#FF0000;"><b>implementation</b></span>&nbsp;<span style="font-family:courier;color:#FF0000;"><b>module</b></span>&nbsp;XXX<br>
<br>
::&nbsp;TypeName&nbsp;typevars&nbsp;=&nbsp;type_expression&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;definition&nbsp;of&nbsp;a&nbsp;new&nbsp;type</span><br>
<br>
functionName::&nbsp;type_of_args&nbsp;-&gt;&nbsp;type_of_result&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;definition&nbsp;of&nbsp;the&nbsp;type&nbsp;of&nbsp;a&nbsp;function</span><br>
functionName&nbsp;args&nbsp;=&nbsp;expression&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;definition&nbsp;of&nbsp;a&nbsp;function</span><br>
<br>
selector&nbsp;=&nbsp;expression&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;definition&nbsp;of&nbsp;a&nbsp;constant&nbsp;graph</span><br>
<br>
<span style="font-family:courier;color:#FF0000;"><b>class</b></span>&nbsp;className&nbsp;=&nbsp;expression&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;definition&nbsp;of&nbsp;a&nbsp;class</span><br>
<br>
macroName&nbsp;args&nbsp;:==&nbsp;&nbsp;expression&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;definition&nbsp;of&nbsp;a&nbsp;macro</span><br>
<br><p style="text-align:justify;">Types can only be defined globally (<span style="color:blue;"><a href="CleanLanguageReport5.html#_5">see Chapter 5</a></span>) and therefore always have a meaning in the whole implementation module.  Type  variables  introduced  on  the  left-hand  side  of  a  (algebraic,  record,  synonym,  overload,  class,  instance, function, graph) type definition have the right-hand side of the type definition as scope.</p>
<p style="text-align:justify;">Functions, the type of these functions, constants (selectors) and macro's can be defined on the <i>global</i> level as well as on a <i>local</i> level in nested scopes. When defined globally they have a meaning in the whole implementation module. Arguments introduced on the left-hand side of a definition (formal arguments) only have a meaning in the corresponding right-hand side.</p>
<p style="text-align:justify;">Functions, the type of these functions, constants (selectors) and macro's can also be defined locally in a new scope. However, new scopes can only be introduced at certain points. In functional languages local definitions are by tradition defined by using <i>let</i>-expressions (definitions given <i>before</i> they are used in a certain expression, nice for a bottom-up style of programming) and <i>where</i>-blocks (definitions given <i>afterwards</i>, nice for a top-down style of programming). These constructs are explained in detail in Chapter 3.</p>
<h3 style="background-color:#9999FF;"><a id="_2.3.3">2.3.3 Begin and End of a Definition: the Layout Rule</a></h3>
<p style="text-align:justify;">CLEAN programs can be written in two modes: layout sensitive mode 'on' and 'off'. The layout sensitive mode is switched off when a semi-colon is specified after the module name. In that case each definition has to be ended with a semicolon '<span style="font-family:courier;color:#0000FF;">;</span>'. A new scope has to begin with '<span style="font-family:courier;color:#0000FF;">{</span>' and ends with a :<span style="font-family:courier;color:#0000FF;">}</span>'. This mode is handy if CLEAN code is generated automatically (e.g. by a compiler).</p>
<p></p><div style="background-color:#FFFF45;">Example of a CLEAN program <i>not</i> using the layout rule.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
<span style="font-family:courier;color:#FF0000;"><b>module</b></span>&nbsp;primes<span style="color:#0000FF;">;</span><br>
<br>
<span style="font-family:courier;color:#FF0000;"><b>import</b></span>&nbsp;StdEnv<span style="color:#0000FF;">;</span><br>
<br>
primes::&nbsp;[Int]<span style="color:#0000FF;">;</span><br>
primes&nbsp;=&nbsp;sieve&nbsp;[2..]<span style="color:#0000FF;">;</span><br>
<span style="font-family:courier;color:#FF0000;"><b>where</b></span><br>
<span style="color:#0000FF;">{</span>&nbsp;&nbsp;&nbsp;sieve::&nbsp;[Int]&nbsp;-&gt;&nbsp;[Int]<span style="color:#0000FF;">;</span>&nbsp;sieve&nbsp;[pr:r]&nbsp;=&nbsp;[pr:sieve&nbsp;(filter&nbsp;pr&nbsp;r)]<span style="color:#0000FF;">;</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;filter::&nbsp;Int&nbsp;[Int]&nbsp;-&gt;&nbsp;[Int]<span style="color:#0000FF;">;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;filter&nbsp;pr&nbsp;[n:r]&nbsp;|&nbsp;n&nbsp;mod&nbsp;pr&nbsp;==&nbsp;0&nbsp;=&nbsp;filter&nbsp;pr&nbsp;r<span style="color:#0000FF;">;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<span style="font-family:courier;color:#FF0000;"><b>otherwise</b></span>&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[n:filter&nbsp;pr&nbsp;r]<span style="color:#0000FF;">;</span><br>
<span style="color:#0000FF;">}</span><br></div>
<p></p><p style="text-align:justify;">Programs look a little bit old fashion C-like in this way. Functional programmers generally prefer a more mathematical style. Hence, as is common in modern functional languages, there is a layout rule in CLEAN. When a semicolon does not end the header of a module, a CLEAN program has become layout sensitive. The <i>layout rule</i> assumes the omission of the semi-colon ('<span style="font-family:courier;color:#0000FF;">'</span>') that ends a definition and of the braces ('<span style="font-family:courier;color:#0000FF;">{</span>' and '<span style="font-family:courier;color:#0000FF;">}</span>') that are used to group a list of definitions. These symbols are automatically added according to the following rules:</p>
<p style="text-align:justify;">In <i>layout sensitive mode</i> the indentation of the first lexeme after the keywords <span style="font-family:courier;color:#FF0000;"><b>let</b></span>, <span style="font-family:courier;">#</span>, <span style="font-family:courier;">#!</span>, <span style="font-family:courier;color:#FF0000;"><b>of</b></span>, <span style="font-family:courier;color:#FF0000;"><b>where</b></span>, or <span style="font-family:courier;color:#FF0000;"><b>with</b></span> determines the indentation that the group of definitions following the keyword has to obey. Depending on the indentation of the first lexeme on a subsequent line the following happens. A new definition is assumed if the lexeme starts on the same indentation (and a semicolon is inserted). A previous definition is assumed to be continued if the lexeme is indented more. The group of definitions ends (and a close brace is inserted) if the lexeme is indented less. Global definitions are assumed to start in column 0.</p>
<p style="text-align:justify;">We strongly advise to write programs in layout sensitive mode. <i>For reasons of portability it is assumed that a tab space is set to 4 white spaces and that a non-proportional font is used.</i></p>
<p></p><div style="background-color:#FFFF45;">Same program using the layout sensitive mode.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
<span style="font-family:courier;color:#FF0000;"><b>module</b></span>&nbsp;primes<br>
<br>
<span style="font-family:courier;color:#FF0000;"><b>import</b></span>&nbsp;StdEnv<br>
<br>
primes::&nbsp;[Int]<br>
primes&nbsp;=&nbsp;sieve&nbsp;[2..]<br>
<span style="font-family:courier;color:#FF0000;"><b>where</b></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;sieve::&nbsp;[Int]&nbsp;-&gt;&nbsp;[Int]<br>
&nbsp;&nbsp;&nbsp;&nbsp;sieve&nbsp;[pr:r]&nbsp;=&nbsp;[pr:sieve&nbsp;(filter&nbsp;pr&nbsp;r)]<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;filter::&nbsp;Int&nbsp;[Int]&nbsp;-&gt;&nbsp;[Int]<br>
&nbsp;&nbsp;&nbsp;&nbsp;filter&nbsp;pr&nbsp;[n:r]&nbsp;|&nbsp;n&nbsp;mod&nbsp;pr&nbsp;==&nbsp;0&nbsp;=&nbsp;filter&nbsp;pr&nbsp;r<br>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<span style="font-family:courier;color:#FF0000;"><b>otherwise</b></span>&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[n:filter&nbsp;pr&nbsp;r]<br></div>
<p></p><h2 style="background-color:#9999FF;"><a id="_2.4">2.4 Definition Modules</a></h2>
<p style="text-align:justify;">The definitions given in an implementation module only have a meaning in the module in which they are defined. If you want to <i>export</i> a definition, you have to specify the definition in the corresponding definition module. Some definitions can only appear in implementation modules, not in definition modules. The idea is to hide the actual implementation from the outside world. The is good for software engineering reasons while another advantage is that an implementation module can be recompiled separately without a need to recompile other modules. Recompilation of other modules is only necessary when a definition module is changed. All modules depending on the changed module will have to be recompiled as well. Implementations of functions, graphs and class instances are therefore only allowed in <i>implementation</i> modules. They are exported by only specifying their type definition in the definition module. Also the right-hand side of any type definition can remain hidden. In this way an abstract data type is created (<span style="color:blue;"><a href="CleanLanguageReport5.html#_5.4">see 5.4</a></span>).</p>
<p style="text-align:justify;">In a definition module the following global definitions can be given in <i>any</i> order.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">DefDefinition</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">ImportDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="#_2.5">see 2.5</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">FunctionExportTypeDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport3.html#_3.7">see 3.7</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">MacroDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport10.html#_10.3">see 10.3</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">TypeDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport5.html#_5">see Chapter 5</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">ClassExportDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport6.html#_6">see Chapter 6</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">TypeClassInstanceExportDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport6.html#_6.10">see 6.10</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">GenericExportDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="CleanLanguageReport7.html#_7">see Chapter 7</a></span></td></tr>
</table><p></p>
<table style="border-spacing:0;width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">The definitions given in an implementation module only have a meaning in the module in which they are defined (<span style="color:blue;"><a href="#_2.3">see 2.3</a></span>) unless these definitions are exported by putting them into the corresponding definition module. In  that case they also have a meaning in those other modules in which the definitions are imported (<span style="color:blue;"><a href="#_2.5">see 2.5</a></span>).</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">In the corresponding implementation module all exported definitions have to get an appropriate implementation (this holds for functions, abstract data types, class instances).</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">An <i>abstract data type</i> is exported by specifying the left-hand side of a type rule in the definition module. In the corresponding implementation module the abstract type <i>has to be defined again</i> but then right-hand side has to be defined as well. For such an abstract data type only the name of the type is exported but not its definition.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">A <i>function</i>, global <i>graph</i> or <i>class instance</i> is exported by defining the type header in the definition module. For optimal efficiency it is recommended also to specify strictness annotations (<span style="color:blue;"><a href="CleanLanguageReport10.html#_10.1">see 10.1</a></span>). For library functions it is recommended also to specify the uniqueness type attributes (<span style="color:blue;"><a href="CleanLanguageReport9.html#_9">see Chapter 9</a></span>). The implementation of a function, a graph, a class instance has to be given in the corresponding implementation module.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Although it is not required anymore to repeat an exported definition in the corresponding implementation module, it is a good habit to do so to keep the implementation module readable. If a definition is repeated, the definition given in the definition module and in the implementation module should be the same (modulo variable names).</td></tr>
</table>
<p></p><div style="background-color:#FFFF45;">Definition module.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
<span style="font-family:courier;color:#FF0000;"><b>definition</b></span>&nbsp;<span style="font-family:courier;color:#FF0000;"><b>module</b></span>&nbsp;ListOperations<br>
<br>
::complex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;abstract&nbsp;type&nbsp;definition</span><br>
<br>
re::&nbsp;complex&nbsp;-&gt;&nbsp;Real&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;function&nbsp;taking&nbsp;the&nbsp;real&nbsp;part&nbsp;of&nbsp;complex&nbsp;number</span><br>
im::&nbsp;complex&nbsp;-&gt;&nbsp;Real&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;function&nbsp;taking&nbsp;the&nbsp;imaginary&nbsp;part&nbsp;of&nbsp;complex</span><br>
<br>
mkcomplex::&nbsp;Real&nbsp;Real&nbsp;-&gt;&nbsp;Complex&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;function&nbsp;creating&nbsp;a&nbsp;complex&nbsp;number</span><br></div>
<p></p><p></p><div style="background-color:#FFFF45;">corresponding implementation module:</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
<span style="font-family:courier;color:#FF0000;"><b>implementation</b></span>&nbsp;<span style="font-family:courier;color:#FF0000;"><b>module</b></span>&nbsp;ListOperations<br>
<br>
::complex&nbsp;:==&nbsp;(!Real,!Real)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;a&nbsp;type&nbsp;synonym</span><br>
<br>
re::&nbsp;complex&nbsp;-&gt;&nbsp;Real&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;type&nbsp;of&nbsp;function&nbsp;followed&nbsp;by&nbsp;its&nbsp;implementation</span><br>
re&nbsp;(frst,_)&nbsp;=&nbsp;frst<br>
<br>
im::&nbsp;complex&nbsp;-&gt;&nbsp;Real<br>
im&nbsp;(_,scnd)&nbsp;=&nbsp;scnd<br>
<br>
mkcomplex::&nbsp;Real&nbsp;Real&nbsp;-&gt;&nbsp;Complex<br>
mkcomplex&nbsp;frst&nbsp;scnd&nbsp;=&nbsp;(frst,scnd)<br></div>
<p></p><h2 style="background-color:#9999FF;"><a id="_2.5">2.5 Importing Definitions</a></h2>
<p style="text-align:justify;">Via an <i>import statement</i> a definition <i>exported</i> by a definition module (<span style="color:blue;"><a href="#_2.4">see 2.4</a></span>) can be <i>imported</i> into any other (definition or implementation) module. There are two kinds of import statements, <i>explicit</i> imports and <i>implicit</i> imports.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ImportDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">ImplicitImportDef</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">ExplicitImportDef</td></tr>
</table><p></p>
<p style="text-align:justify;">A module <i>depends</i> on another module if it imports something from that other module. Cyclic dependencies are allowed.</p>
<h3 style="background-color:#9999FF;"><a id="_2.5.1">2.5.1 Explicit Imports of Definitions</a></h3>
<p style="text-align:justify;"><i>Explicit imports</i> are import statements in which the modules to import from as well as the identifiers indicating the definitions to import are explicitly specified. All identifiers explicitly being imported in a definition or implementation module will be included in the global scope level (= outermost scope, <span style="color:blue;"><a href="#_2.3.2">see 2.3.2</a></span>) of the module that does the import.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ExplicitImportDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#FF0000;"><b>from</b></span><span style="font-family:courier;"> ModuleName </span><span style="font-family:courier;color:#FF0000;"><b>import</b></span> [<span style="font-family:courier;color:#993300;"><b>qualified</b></span>] {Imports}-list <span style="font-family:courier;color:#0000FF;">;</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Imports</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;">FunctionName</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>::</b></span><span style="font-family:courier;">TypeName</span> [ConstructorsOrFields]</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#FF0000;"><b>class</b></span><span style="font-family:courier;"> ClassName</span> [Members]</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#FF0000;"><b>instance</b></span><span style="font-family:courier;"> ClassName</span> {SimpleType}+</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#FF0000;"><b>generic</b></span> <span style="font-family:courier;">FunctionName</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ConstructorsOrFields</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(..)</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(</b></span>{<span style="font-family:courier;">ConstructorName</span>}-list<span style="font-family:courier;color:#993300;"><b>)</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{..}</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{</b></span>{<span style="font-family:courier;">FieldName</span>}-list<span style="font-family:courier;color:#993300;"><b>}</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Members</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(..)</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(</b></span>{<span style="font-family:courier;">MemberName</span>}-list<span style="font-family:courier;color:#993300;"><b>)</b></span></td></tr>
</table><p></p>
<p style="text-align:justify;">One can import functions or macro's, types with optionally their corresponding constructors, record types with optionally their corresponding fieldnames, classes, instances of classes and generic functions. The syntax makes it possible to discriminate between the different namespaces that exist in CLEAN (<span style="color:blue;"><a href="#_2.1.2">see 2.1.2</a></span>)</p>
<p></p><div style="background-color:#FFFF45;">Example of an explicit import.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
<span style="font-family:courier;color:#FF0000;"><b>implementation</b></span>&nbsp;<span style="font-family:courier;color:#FF0000;"><b>module</b></span>&nbsp;XXX<br>
<br>
<span style="font-family:courier;color:#FF0000;"><b>from</b></span>&nbsp;m&nbsp;<span style="font-family:courier;color:#FF0000;"><b>import</b></span>&nbsp;&nbsp;&nbsp;&nbsp;F,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::&nbsp;T1,&nbsp;::&nbsp;T2(..),&nbsp;::&nbsp;T3(C1,&nbsp;C2),&nbsp;::&nbsp;T4{..},&nbsp;::&nbsp;T5{field1,&nbsp;field2},<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:courier;color:#FF0000;"><b>class</b></span>&nbsp;C1,&nbsp;<span style="font-family:courier;color:#FF0000;"><b>class</b></span>&nbsp;C2(..),&nbsp;<span style="font-family:courier;color:#FF0000;"><b>class</b></span>&nbsp;C3(mem1,&nbsp;mem2),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:courier;color:#FF0000;"><b>instance</b></span>&nbsp;C4&nbsp;Int,&nbsp;<span style="font-family:courier;color:#FF0000;"><b>generic</b></span>&nbsp;g<br>
<br></div>
<div style="background-color:#FFFF45;">With the import statement the following definitions exported by module <span style="font-family:courier;">m</span> are imported in module <span style="font-family:courier;">XXX</span>: the <i>function</i> or <i>macro</i> <span style="font-family:courier;">F</span>, the <i>type</i> <span style="font-family:courier;">T1</span>, the <i>algebraic</i> type <span style="font-family:courier;">T2</span> with <i>all</i> it's constructors that are exported by m, the <i>algebraic type </i><span style="font-family:courier;">T3</span> with it's constructors <span style="font-family:courier;">C1</span> and <span style="font-family:courier;">C2</span>, the <i>record type</i> <span style="font-family:courier;">T4</span> with <i>all</i> it's fields that are exported by m, the <i>record type</i> <span style="font-family:courier;">T5</span> with it's fields <span style="font-family:courier;">field1</span> and <span style="font-family:courier;">field2</span>, the <i>class</i> <span style="font-family:courier;">C1</span>, the <i>class</i> <span style="font-family:courier;">C2</span> with all it's members that are exported by <span style="font-family:courier;">m</span>, the <i>class</i> <span style="font-family:courier;">C3</span> with it's members <span style="font-family:courier;">mem1</span> and <span style="font-family:courier;">mem2</span>, the instance of <i>class</i> <span style="font-family:courier;">C4</span> defined on integers, the generic function <span style="font-family:courier;">g</span>.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"></div>
<p></p><p style="text-align:justify;">Importing identifiers can cause error messages because the imported identifiers may be in conflict with other identifiers in this scope (remember that identifiers belonging to the same name space must all have different names within the same scope, <span style="color:blue;"><a href="#_2.1">see 2.1</a></span>). This problem can be solved by renaming the internally defined identifiers or by renaming the imported identifiers (eg by adding an additional module layer just to rename things).</p>
<h3 style="background-color:#9999FF;"><a id="_2.5.2">2.5.2 Implicit Imports of Definitions</a></h3>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ImplicitImportDef</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#FF0000;"><b>import</b></span> [<span style="font-family:courier;color:#993300;"><b>qualified</b></span>] {<span style="font-family:courier;">ModuleName</span>}-list <span style="font-family:courier;color:#0000FF;">;</span></td></tr>
</table><p></p>
<p style="text-align:justify;"><i>Implicit imports</i> are import statements in which only the module name to import from is mentioned. In this case <i>all</i> definitions that are <i>exported</i> from that module are imported as well as <i>all</i> definitions that on their turn are <i>imported</i> in the indicated definition module, and so on. So, all related definitions from various modules can be imported with one single import.</p>
<p style="text-align:justify;">This opens the possibility for definition modules to serve as a kind of <i>'pass-through'</i> module. Hence, it is meaningful to have definition modules with import statements but without any definitions.</p>
<p></p><div style="background-color:#FFFF45;">Example of an implicit import: all (arithmetic) rules which are predefined can be imported easily with one import statement.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
<span style="font-family:courier;color:#FF0000;"><b>import</b></span>&nbsp;MyStdEnv<br></div>
<p></p><p style="text-align:justify;">importing implicitly all definitions imported by the definition module '<span style="font-family:courier;">MyStdEnv</span>' which is defined below:</p>
<p></p>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;"><span style="font-family:courier;color:#FF0000;"><b>definition</b></span>&nbsp;<span style="font-family:courier;color:#FF0000;"><b>module</b></span>&nbsp;MyStdEnv<br>
<br>
<span style="font-family:courier;color:#FF0000;"><b>import</b></span>&nbsp;<span style="font-family:courier;">StdBool</span>,&nbsp;<span style="font-family:courier;">StdChar</span>,&nbsp;<span style="font-family:courier;">StdInt</span>,&nbsp;<span style="font-family:courier;">StdReal</span>,&nbsp;<span style="font-family:courier;">StdString</span><br><p></p>
<p style="text-align:justify;">All identifiers implicitly being imported in a definition or implementation module will be included in the global scope level (= outermost scope, <span style="color:blue;"><a href="#_2.3.2">see 2.3.2</a></span>) of the module that does the import.</p>
<p></p><table style="width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Importing identifiers can cause error messages because the imported identifiers may be in conflict with other identifiers in this scope (remember that identifiers belonging to the same name space must all have different names within the same scope, <span style="color:blue;"><a href="#_2.1">see 2.1</a></span>). This problem can be solved by renaming the internally defined identifiers or by renaming the imported identifiers (eg by adding an additional module layer just to rename identifiers).</td></tr>
</table>
<h2 style="background-color:#9999FF;"><a id="_2.6">2.6 System Definition and Implementation Modules</a></h2>
<p style="text-align:justify;">System modules are special modules. A <i>system definition module</i> indicates that the corresponding implementation module is a <i>system implementation module</i> which does not contain ordinary CLEAN rules. In system implementation modules it is allowed to define <i>foreign functions</i>: the bodies of these foreign functions are written in another language than CLEAN. System implementation modules make it possible to create interfaces to operating systems, to file systems or to increase execution speed of heavily used functions or complex data structures. Typically, predefined function and operators for arithmetic and File I/O are implemented as system modules.</p>
<p style="text-align:justify;">System implementation modules may use machine code, C-code, abstract machine code (PABC-code) or code written in any other language. What exactly is allowed depends on the CLEAN compiler used and the platform for which code is generated. The keyword <span style="font-family:courier;color:#FF0000;"><b>code</b></span> is reserved to make it possible to write CLEAN programs in a foreign language. This is not treated in this reference manual.</p>
<p style="text-align:justify;">When one writes system implementation modules one has to be very careful because the correctness of the functions can no longer be checked by the CLEAN compiler. Therefore, the programmer is now responsible for the following:</p>
<table style="width:100%;"><tr><td>
<table style="width:100%;"><tr><td style="vertical-align:top;width:30px;">!</td><td style="text-align:justify;">The function must be correctly typed.</td></tr></table>
<table style="width:100%;"><tr><td style="vertical-align:top;width:30px;">!</td><td style="text-align:justify;">When a function destructively updates one of its (sub-)arguments, the corresponding type of the arguments should have the uniqueness type attribute. Furthermore, those arguments must be strict.</td></tr></table>
</td></tr></table>
</body>
</html>
