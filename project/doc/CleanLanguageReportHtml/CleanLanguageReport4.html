<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clean Language Report</title>
</head>
<body style="font-family:Helvetica">
<div><div style="position: absolute;"><svg width="355.555555555556" height="177.777777777778">
<path d="M49.7777777777778 7.32929319639176 h280.888888888889 v141.785858051661 h-280.888888888889 Z M64 33.9959598630584 h252.444444444444 v88.4525247183276 h-252.444444444444 Z" stroke="none" fill="#3F87AF" fill-rule="evenodd"/>
<path d="M64 111.781817914719 h252.444444444444 v10.6666666666667 h-252.444444444444 Z" stroke="none" fill="#8C96A0"/>
<path d="M64 33.9959598630584 h252.444444444444 v10.6666666666667 h-252.444444444444 Z" stroke="none" fill="#8C96A0"/>
<path d="M64 44.6626265297251 h252.444444444444 v67.1191913849942 h-252.444444444444 Z" stroke="none" fill="#FFFFFF"/>
<path d="M99.1179703874409 137.550135143052 C93.2711853763986 133.302197180425,88.084448516421 128.213312506961,83.725936053644 122.448484581386 L110.089961763567 122.448484581386 Z" stroke="none" fill="#8C96A0"/>
<path d="M99.1179703874409 18.8943093013927 C93.2711853763986 23.1422472640192,88.084448516421 28.2311319374834,83.725936053644 33.9959598630584 L110.089961763567 33.9959598630584 Z" stroke="none" fill="#8C96A0"/>
<path d="M126.968649704419 100.555210486665 C109.380820468897 87.7769045717629,109.380820468897 61.5564287615705,126.968649704419 48.7781228466684 L116.780371998016 34.7551616108359 C89.6658019265873 54.45504989631,89.6658019265873 94.8782834370233,116.780371998016 114.578171722497 Z" stroke="none" fill="#8C96A0"/>
<path d="M113.645517319123 118.89292902583 C83.5996423751073 97.0633230878727,83.5996423751073 52.2700102454607,113.645517319123 30.4404043075029 L102.673525942996 15.3387537458372 C62.3680839449271 44.6223714674879,62.3680839449271 104.710961865845,102.673525942996 133.994579587496 Z" stroke="none" fill="#8C96A0"/>
<path d="M123.413094148863 104.110766042221 C105.825264913342 91.3324601273184,105.825264913342 65.111984317126,123.413094148863 52.3336784022239 L113.22481644246 38.3107171663915 C86.1102463710318 58.0106054518656,86.1102463710318 98.4338389925788,113.22481644246 118.133727278053  Z" stroke="none" fill="#3F87AF"/>
<path d="M110.089961763567 122.448484581386 C80.0440868195518 100.618878643428,80.0440868195518 55.8255658010162,110.089961763567 33.9959598630584L83.725936053644 33.9959598630584 C63.9432065006372 60.1617750913602,63.9432065006372 96.2826693530842,83.725936053644 122.448484581386" stroke="none" fill="#3F87AF"/>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="145.777777777778" y="103.111111111111" fill="#8C96A0">Clean</text>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="144.888888888889" y="102.222222222222" fill="#8C96A0">Clean</text>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="144" y="101.333333333333" fill="#8C96A0">Clean</text>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="143.111111111111" y="100.444444444444" fill="#8C96A0">Clean</text>
<text font-family="Helvetica" font-weight="bold" font-size="56.8888888888889px" x="142.222222222222" y="99.5555555555556" fill="#3F87AF">Clean</text>
</svg>
</div><h1 style="text-align:right;background-color:#9999FF;"><a id="_4"><br>Chapter 4<br><br>Predefined Types</a></h1></div>
<p style="text-align:justify;">Certain types like <span style="font-family:courier;">Int</span>egers, <span style="font-family:courier;">Bool</span>eans, <span style="font-family:courier;">Char</span>acters, <span style="font-family:courier;">Real</span>s, Lists, Tuples and Arrays are that frequently used that they have been predefined in CLEAN for reasons of efficiency and/or notational convenience. These types and the syntactic sugar that has been added to create and to inspect (via pattern matching) objects of these popular types are treated in this chapter.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">PredefinedType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">BasicType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="#_4.1">see 4.1</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">ListType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="#_4.2">see 4.2</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">TupleType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="#_4.3">see 4.3</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">ArrayType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="#_4.4">see 4.4</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">ArrowType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="#_4.6">see 4.6</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">PredefType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// <span style="color:blue;"><a href="#_4.7">see 4.7</a></span></td></tr>
</table><p></p>
<p style="text-align:justify;">In Chapter 5 we will explain how new types can be defined.</p>
<h2 style="background-color:#9999FF;"><a id="_4.1">4.1 Basic Types: Int, Real, Char and Bool</a></h2>
<p style="text-align:justify;"><i>Basic types</i> are <i>algebraic types</i> (<span style="color:blue;"><a href="CleanLanguageReport5.html#_5.1">see 5.1</a></span>) which are predefined for reasons of efficiency and convenience: <span style="font-family:courier;">Int</span> (for 32 or 64 bits integer values), <span style="font-family:courier;">Real</span> (for 64 bit double precision floating point values), <span style="font-family:courier;">Char</span> (for 8 bits ASCII character values) and <span style="font-family:courier;">Bool</span> (for 8 bits Boolean values). For programming convenience special syntax is introduced to denote constant values (data constructors) of these predefined types. Functions to create and manipulate objects of basic types can be found in the CLEAN <span style="font-family:courier;">StdEnv</span> library (as indicated below).</p>
<p style="text-align:justify;">There is also a special notation to denote a string (an unboxed array of characters, <span style="color:blue;"><a href="#_4.4">see 4.4</a></span>) as well as to denote a list of characters (<span style="color:blue;"><a href="#_4.2.1">see 4.2.1</a></span>).</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">BasicType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>Int</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// see <span style="font-family:courier;">StdInt.dcl</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>Real</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// see <span style="font-family:courier;">StdReal.dcl</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>Char</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// see <span style="font-family:courier;">StdChar.dcl</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>Bool</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// see <span style="font-family:courier;">StdBool.dcl</span></td></tr>
</table><p></p>
<h3 style="background-color:#9999FF;"><a id="_4.1.1">4.1.1 Creating Constant Values of Basic Type</a></h3>
<p style="text-align:justify;">In a graph expression a <i>constant value</i>of basic type <span style="font-family:courier;">Int</span>, <span style="font-family:courier;">Real</span>, <span style="font-family:courier;">Bool</span> or <span style="font-family:courier;">Char</span> can be created.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">BasicValue</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">IntDenotation</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">RealDenotation</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">BoolDenotation</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">CharDenotation</td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">IntDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:30.2290909090909%;padding:0 0 4px 0;">[Sign]{Digit}+</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.62%;padding:0 0 4px 0;">// decimal number</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:30.2290909090909%;padding:0 0 4px 0;">[Sign]<span style="font-family:courier;color:#993300;"><b>0</b></span>{OctDigit}+</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.62%;padding:0 0 4px 0;">// octal number</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:30.2290909090909%;padding:0 0 4px 0;">[Sign]<span style="font-family:courier;color:#993300;"><b>0x</b></span>{HexDigit}+</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.62%;padding:0 0 4px 0;">// hexadecimal number</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Sign</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3"><span style="font-family:courier;color:#993300;"><b>+</b></span> | <span style="font-family:courier;color:#993300;"><b>-</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">RealDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:30.2290909090909%;padding:0 0 4px 0;">[Sign]{Digit}+<span style="font-family:courier;color:#993300;"><b>.</b></span>{Digit}+[<span style="font-family:courier;color:#993300;"><b>E</b></span>[Sign]{Digit}+]</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:39.62%;padding:0 0 4px 0;"></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">BoolDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3"><span style="font-family:courier;color:#993300;"><b>True</b></span> | <span style="font-family:courier;color:#993300;"><b>False</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">CharDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">CharDel AnyChar/CharDel CharDel</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">CharsDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">CharDel {AnyChar/CharDel}+ CharDel</td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">AnyChar</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8680808080808%;padding:0 0 4px 0;" colspan="45">IdChar | ReservedChar | SpecialChar</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ReservedChar</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.18181818181818%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.18181818181818%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>)</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.18181818181818%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>}</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>]</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>;</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>,</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:23.7630303030303%;padding:0 0 4px 0;" colspan="13"><span style="font-family:courier;color:#993300;"><b>.</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">SpecialChar</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.18181818181818%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>\n</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.18181818181818%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>\r</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.18181818181818%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>\f</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:9.18787878787879%;padding:0 0 4px 0;" colspan="7"><span style="font-family:courier;color:#993300;"><b>\b</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:40.5751515151515%;padding:0 0 4px 0;" colspan="25">// newline,return,formf,backspace</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.18181818181818%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>\t</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:2.18181818181818%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>\\</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:15.8828282828283%;padding:0 0 4px 0;" colspan="11"><span style="font-family:courier;color:#993300;"><b>\</b></span>CharDel</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:40.5751515151515%;padding:0 0 4px 0;" colspan="25">// tab,backslash,character delimiter</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:29.2727272727273%;padding:0 0 4px 0;" colspan="19"><span style="font-family:courier;color:#993300;"><b>\</b></span>StringDel</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:40.5751515151515%;padding:0 0 4px 0;" colspan="25">// string delimiter</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:29.2727272727273%;padding:0 0 4px 0;" colspan="19"><span style="font-family:courier;color:#993300;"><b>\</b></span>{OctDigit}+</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:40.5751515151515%;padding:0 0 4px 0;" colspan="25">// octal number </td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:29.2727272727273%;padding:0 0 4px 0;" colspan="19"><span style="font-family:courier;color:#993300;"><b>\x</b></span>{HexDigit}+</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:40.5751515151515%;padding:0 0 4px 0;" colspan="25">// hexadecimal number </td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Digit</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>0</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>1</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>2</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>3</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>4</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>5</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>6</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>7</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>8</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:21.4327272727273%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>9</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">OctDigit</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>0</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>1</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>2</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>3</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>4</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>5</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>6</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:32.6408080808081%;padding:0 0 4px 0;" colspan="9"><span style="font-family:courier;color:#993300;"><b>7</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">HexDigit</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>0</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>1</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>2</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>3</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>4</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>5</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>6</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>7</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>8</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:21.4327272727273%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>9</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>A</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>B</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>C</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>D</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>E</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:43.8488888888889%;padding:0 0 4px 0;" colspan="17"><span style="font-family:courier;color:#993300;"><b>F</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>a</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>b</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>c</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>d</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.09090909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>e</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:43.8488888888889%;padding:0 0 4px 0;" colspan="17"><span style="font-family:courier;color:#993300;"><b>f</b></span></td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">CharDel</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">'</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">StringDel</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">"</td></tr>
</table><p></p>
<p></p><div style="background-color:#FFFF45;">Example of denotations.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
Integer&nbsp;(decimal):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0|1|2|...|8|9|10|&nbsp;...&nbsp;|-1|-2|&nbsp;...<br>
Integer&nbsp;(octal):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;00|01|02|...|07|010|&nbsp;...&nbsp;|-01|-02|&nbsp;...<br>
Integer&nbsp;(hexadecimal):&nbsp;&nbsp;&nbsp;&nbsp;0x0|0x1|0x2|...|0x8|0x9|0xA|0xB&nbsp;...&nbsp;|-0x1|-0x2|&nbsp;...<br>
Real:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0|1.5|0.314E10|&nbsp;...<br>
Boolean:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;True&nbsp;|&nbsp;False<br>
Character:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'a'|'b'|...|'A'|'B'|...<br>
String:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;""&nbsp;|&nbsp;"Rinus"|"Marko"|...<br>
List&nbsp;of&nbsp;characters:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;['Rinus']|['Marko']|...<br></div>
<p></p><h3 style="background-color:#9999FF;"><a id="_4.1.2">4.1.2 Patterns of Basic Type</a></h3>
<p style="text-align:justify;">A <i>constant value</i> of predefined <i>basic type</i> <span style="font-family:courier;">Int</span>, <span style="font-family:courier;">Real</span>, <span style="font-family:courier;">Bool</span> or <span style="font-family:courier;">Char</span> (<span style="color:blue;"><a href="#_4.1">see 4.1</a></span>) can be specified as pattern.</p>
<p></p><table style="width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">The denotation of such a value must obey the syntactic description given in above.</td></tr>
</table>
<p></p><div style="background-color:#FFFF45;">Use of Integer values in a pattern.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
nfib::&nbsp;Int&nbsp;-&gt;&nbsp;Int<br>
nfib&nbsp;0&nbsp;=&nbsp;1<br>
nfib&nbsp;1&nbsp;=&nbsp;1<br>
nfib&nbsp;n&nbsp;=&nbsp;1&nbsp;+&nbsp;nfib&nbsp;(n-1)&nbsp;*&nbsp;nfib&nbsp;(n-2)<br></div>
<p></p><h2 style="background-color:#9999FF;"><a id="_4.2">4.2 Lists</a></h2>
<p style="text-align:justify;">A <i>list</i>is an algebraic data type predefined just for programming convenience. A list can contain an <i>infinite number</i> of elements. All elements must be of the <i>same type</i>. Lists are very often used in functional languages and therefore the usual syntactic sugar is provided for the creation and manipulation of lists (dot-dot expressions, list comprehensions) while there is also special syntax for a <i>list of characters</i>.</p>
<p style="text-align:justify;">Lists can be lazy (default), and optionally be defined as head strict, spine strict, strict (both head and spine strict), head strict unboxed, and strict unboxed. Lazy, strict and unboxed lists are all objects of <i>different:</i> type. All these different types of lists have different time and space properties ( <span style="color:blue;"><a href="CleanLanguageReport10.html#_10.1.3">see 10.1.3</a></span>). Because these lists are of different type, conversion functions are needed to change e.g. a lazy list to a strict list. Functions defined on one type of a list cannot be applied to another type of list. However, one can define overloaded functions that can be used on any list: lazy, strict as well as on unboxed lists.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ListType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3"><span style="font-family:courier;color:#993300;"><b>[</b></span>[ListTypeKind] Type [SpineStrictness]<span style="font-family:courier;color:#993300;"><b>]</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ListTypeKind</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// head strict list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>#</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// head strict, unboxed list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">SpineStrictness</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// tail (spine) strict list</td></tr>
</table><p></p>
<p></p><table style="width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">All elements of a list must be of the <i>same type</i>.</td></tr>
</table>
<h3 style="background-color:#9999FF;"><a id="_4.2.1">4.2.1 Creating Lists</a></h3>
<p style="text-align:justify;">Because lists are very convenient and very frequently used data structures, there are several syntactical constructs in CLEAN for creating lists, including <i>dot-dot expressions</i> and <i>ZF-expressions</i>. Since CLEAN is a lazy functional language, the default list in CLEAN is a <i>lazy</i> list. However, in some cases <i>strict lists</i>, <i>spine strict lists</i> and <i>unboxed</i> lists can be more convenient and more efficient.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">List</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">ListDenotation</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">DotDotExpression</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">ZF-expression</td></tr>
</table><p></p>
<p></p><table style="width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">All elements of a list must be of the same type.</td></tr>
</table>
<h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lazy Lists</h3>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ListDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[</b></span>[ListKind] [{LGraphExpr}-list [<span style="font-family:courier;color:#993300;"><b>:</b></span> GraphExpr]] [SpineStrictness] <span style="font-family:courier;color:#993300;"><b>]</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">LGraphExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">GraphExpr</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">CharsDenotation</td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">CharsDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">CharDel {AnyChar/CharDel}+ CharDel</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">CharDel</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">'</td></tr>
</table><p></p>
<p style="text-align:justify;">One way to create a list is by explicit enumeration of the list elements. Lists are constructed by adding one or more elements to an existing list.</p>
<p></p><div style="background-color:#FFFF45;">Various ways to define a lazy list with the integer elements <span style="font-family:courier;">1</span>,<span style="font-family:courier;">3</span>,<span style="font-family:courier;">5</span>,<span style="font-family:courier;">7</span>,<span style="font-family:courier;">9</span>.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
[1:[3:[5:[7:[9:[]]]]]]<br>
[1:3:5:7:9:[]]<br>
[1,3,5,7,9]<br>
[1:[3,5,7,9]]<br>
[1,3,5:[7,9]]<br></div>
<p></p><p style="text-align:justify;">A special notation is provided for the frequently used <i>list of characters</i>.</p>
<p></p><div style="background-color:#FFFF45;">Various ways to define a lazy list with the characters '<span style="font-family:courier;">a</span>', '<span style="font-family:courier;">b</span>' and '<span style="font-family:courier;">c</span>'.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
['a':['b':['c':[]]]]<br>
['a','b','c']<br>
['abc']<br>
['ab','c']<br></div>
<p></p><h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Strict , Unboxed and Overloaded Lists</h3>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ListKind</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// head strict list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>#</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// unboxed list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>|</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// overloaded list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">SpineStrictness</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// spine strict list</td></tr>
</table><p></p>
<p style="text-align:justify;">In CLEAN <i>any</i> data structure can be made (partially) strict or unboxed (<span style="color:blue;"><a href="CleanLanguageReport10.html#_10.1">see 10.1</a></span>). This has consequences for the time and space behavior of the data structure.</p>
<p style="text-align:justify;">For instance, <i>lazy lists</i> are very convenient (nothing is evaluated unless it is really needed for the computation, one can deal with infinite data structures), but they can be inefficient as well if actually always all lists elements are evaluated sooner or later. <i>Strict lists</i> are often more efficient, but one has to be certain not to trigger a not used infinite computation. <i>Spine strict lists</i> can be more efficient as well, but one cannot handle infinite lists in this way. Unboxed lists are head strict. The difference with a strict list is that the representation of an <i>unboxed list</i> is more compact: instead of a pointer to the lists element the list element itself is stored in the list. However, unboxed lists have as disadvantage that they can only be used in certain cases: they can only contain elements of basic type, records and tuples. It does not make sense to offer unboxing for arbitrary types: boxing saves space, but not if Cons nodes are copied often: the lists elements are copied as well while otherwise the contents could remain shared using the element pointer instead.</p>
<p style="text-align:justify;">In terms of efficiency it can make quite a difference (e.g. strict lists can sometimes be 6 times faster) which kind of list is actually used. But, it is in general not decidable which kind of list is best to use. This depends on how a list is used in a program. A wrong choice might turn a program from useful to useless (too inefficient), from terminating to non-terminating.</p>
<p style="text-align:justify;">Because lists are so frequently used, special syntax is provided to make it easier for a programmer to change from one type of list to another, just by changing the kind of brackets used. One can define a list of which the <i>head</i>element is strict but the spine is lazy (indicated by <span style="font-family:courier;">[! ]</span>), a list of which the <i>spine</i> is strict but the head element is lazy (indicated by <span style="font-family:courier;">[ !]</span>) and a completely evaluated list (indicated by <span style="font-family:courier;">[! !]</span>). One can have an unboxed list with a strict head element (indicated by <span style="font-family:courier;">[# ]</span>) and a completely evaluated unboxed list of which in addition the spine is strict as well (indicated by <i>[# !]</i></p>
<p style="text-align:justify;">Note that all these different lists are of different type and consequently these lists cannot be mixed and unified with each other. With conversion functions offered in the CLEAN libraries it is possible to convert one list type into another. It is also possible to define an overloaded list and overloaded functions that work on <i>any</i> list (see hereafter).</p>
<p></p><div style="background-color:#FFFF45;">Various types of lists.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;">[&nbsp;&nbsp;fac&nbsp;10&nbsp;:&nbsp;expression&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;lazy&nbsp;list</span><br>
[!&nbsp;fac&nbsp;10&nbsp;:&nbsp;expression&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;head&nbsp;strict&nbsp;list</span><br>
[!&nbsp;fac&nbsp;10&nbsp;:&nbsp;expression&nbsp;!]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;head&nbsp;strict&nbsp;and&nbsp;tail&nbsp;strict&nbsp;list</span><br>
[#&nbsp;fac&nbsp;10&nbsp;:&nbsp;expression&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;head&nbsp;strict&nbsp;list,&nbsp;unboxed</span><br>
[#&nbsp;fac&nbsp;10&nbsp;:&nbsp;expression&nbsp;!]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;head&nbsp;strict&nbsp;and&nbsp;tail&nbsp;strict&nbsp;list,&nbsp;unboxed</span><br></div>
<p></p><p></p><table style="width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Unboxed data structures can only contain elements of basic type, records and arrays.</td></tr>
</table>
<p style="text-align:justify;">One can create an <i>overloaded</i> list that will fit on any type of list (lazy, strict or unboxed)</p>
<p></p><div style="background-color:#FFFF45;">Example of an overloaded list.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
[|&nbsp;fac&nbsp;10&nbsp;:&nbsp;expression&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;overloaded&nbsp;list</span><br></div>
<p></p><p style="text-align:justify;">Other ways to create lists are via dot-dot expressions and list comprehensions.</p>
<h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DotDot Expressions</h3>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">DotDotExpression</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[</b></span>[ListKind] GraphExpr [<span style="font-family:courier;color:#993300;"><b>,</b></span>GraphExpr]<span style="font-family:courier;color:#993300;"><b>..</b></span>[GraphExpr] [SpineStrictness] <span style="font-family:courier;color:#993300;"><b>]</b></span></td></tr>
</table><p></p>
<p style="text-align:justify;">With a dot-dot expression the list elements can be enumerated by giving the first element (<span style="font-family:courier;">n1</span>), an optional second element (<span style="font-family:courier;">n2</span>) and an optional last element (<span style="font-family:courier;">e</span>).</p>
<p></p><div style="background-color:#FFFF45;">Alternative ways to define a list a dot dot expression.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
[1,3..9]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;[1,3,5,7,9]</span><br>
[1..9]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;[1,2,3,4,5,6,7,8,9]</span><br>
[1..]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;[1,2,3,4,5&nbsp;and&nbsp;so&nbsp;on&nbsp;...</span><br>
['a'..'c']&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;['abc']</span><br></div>
<p></p><p style="text-align:justify;">The generated list is in general calculated as follows:</p>
<p></p>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;">from_then_to::&nbsp;!a&nbsp;!a&nbsp;!a&nbsp;-&gt;&nbsp;.[a]&nbsp;|&nbsp;Enum&nbsp;a<br>
from_then_to&nbsp;n1&nbsp;n2&nbsp;e<br>
|&nbsp;n1&nbsp;&lt;=&nbsp;n2&nbsp;&nbsp;&nbsp;=&nbsp;_from_by_to&nbsp;n1&nbsp;(n2-n1)&nbsp;e<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;_from_by_down_to&nbsp;n1&nbsp;(n2-n1)&nbsp;e<br>
<span style="font-family:courier;color:#FF0000;"><b>where</b></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;from_by_to&nbsp;n&nbsp;s&nbsp;e<br>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;n&lt;=e&nbsp;&nbsp;&nbsp;=&nbsp;[n&nbsp;:&nbsp;_from_by_to&nbsp;(n+s)&nbsp;s&nbsp;e]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[]<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;from_by_down_to&nbsp;n&nbsp;s&nbsp;e<br>
&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;n&gt;=e&nbsp;&nbsp;&nbsp;=&nbsp;[n&nbsp;:&nbsp;_from_by_down_to&nbsp;(n+s)&nbsp;s&nbsp;e]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[]<br><p></p>
<p style="text-align:justify;">The step size is <i>one</i> by default. If no last element is specified an infinite list is generated.</p>
<p style="text-align:justify;">With a dot-dot expression one can also define a lazy list, a strict list, an unboxed list or an overloaded list.</p>
<p></p><div style="background-color:#FFFF45;">Different types of lists (lazy, strict, unboxed and overloaded can be defined with a dot dot expression as well.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
[&nbsp;&nbsp;1,3..9&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;a&nbsp;lazy&nbsp;list</span><br>
[!&nbsp;1,3..9&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;a&nbsp;head&nbsp;strict&nbsp;list</span><br>
[!&nbsp;1,3..9&nbsp;!]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;a&nbsp;strict&nbsp;list&nbsp;(head&nbsp;and&nbsp;spine)</span><br>
[#&nbsp;1,3..9&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;a&nbsp;head&nbsp;strict&nbsp;list,&nbsp;unboxed</span><br>
[#&nbsp;1,3..9&nbsp;!]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;a&nbsp;strict&nbsp;list&nbsp;(head&nbsp;and&nbsp;spine),&nbsp;unboxed</span><br>
[|&nbsp;1,3..9&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;an&nbsp;overloaded&nbsp;list</span><br></div>
<p></p><table style="border-spacing:0;width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Dot-dot expression can only be used if one imports <span style="font-family:courier;">StdEnum</span><span style="font-family:courier;"> from the standard library.</span></td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Dot-dot expressions are predefined on objects of type <span style="font-family:courier;">Int</span>, <span style="font-family:courier;">Real</span> and <span style="font-family:courier;">Char</span>, but dot-dots can also be applied to any user defined data structure for which the class enumeration type has been instantiated (see CLEANs Standard Environment).</td></tr>
</table>
<h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List Comprehensions</h3>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ZF-expression</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3"><span style="font-family:courier;color:#993300;"><b>[</b></span>[ListKind] GraphExpr <span style="font-family:courier;color:#993300;"><b>\\</b></span> {Qualifier}-list [SpineStrictness]<span style="font-family:courier;color:#993300;"><b>]</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Qualifier</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">Generators {<span style="font-family:courier;color:#993300;"><b>,</b></span> <span style="font-family:courier;color:#FF0000;"><b>let</b></span> <span style="font-family:courier;color:#0000FF;"><b>{</b></span> {LocalDef}+ <span style="font-family:courier;color:#0000FF;"><b>}</b></span> } {<span style="font-family:courier;color:#993300;"><b>|</b></span>Guard}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Generators</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">Generator {<span style="font-family:courier;color:#993300;"><b>&amp;</b></span> Generator}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Generator</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">Selector <span style="font-family:courier;color:#993300;"><b>&lt;-</b></span> ListExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// select from a lazy list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">Selector <span style="font-family:courier;color:#993300;"><b>&lt;|-</b></span> ListExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// select from an overloaded list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">Selector <span style="font-family:courier;color:#993300;"><b>&lt;-:</b></span> ArrayExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// select from an array</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Selector</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;">BrackPattern</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// for brack patterns <span style="color:blue;"><a href="CleanLanguageReport3.html#_3.2">see 3.2</a></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ListExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">GraphExpr</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">GraphExpr</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Guard</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">BooleanExpr</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">BooleanExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">GraphExpr</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ListKind</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// head strict list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>#</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// unboxed list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>|</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// overloaded list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">SpineStrictness</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// spine strict list</td></tr>
</table><p></p>
<p style="text-align:justify;">With a list generator called a ZF-expression one can construct a list composed from elements drawn from other lists or arrays. With a <i>list generator</i>one can draw elements from lazy list. The symbol '<span style="font-family:courier;">&lt;-</span>' is used to draw elements from a lazy list, the symbol '<span style="font-family:courier;">&lt;|-</span>' can be used to draw elements from any (lazy, strict, unboxed) list. With an <i>array generator</i> (use symbol  '<span style="font-family:courier;">&lt;-:</span>') one can draw elements from any array. One can define several generators in a row separated by a comma. The last generator in such a sequence will vary first. One can also define several generators in a row separated by a '<span style="font-family:courier;">&amp;</span>'. All generators in such a sequence will vary at the same time but the drawing of elements will stop as soon of one the generators is exhausted. This construct can be used instead of the zip-functions that are commonly used. <i>Selectors</i> are simple patterns to identify parts of a graph expression. They are explained in <span style="color:blue;"><a href="CleanLanguageReport3.html#_3.6">Section 3.6</a></span>. Only those lists produced by a generator that match the specified selector are taken into account. Guards can be used as filter in the usual way.</p>
<p style="text-align:justify;">The scope of the selector variables introduced on the left-hand side of a generator is such that the variables can be used in the guards and other generators that follow. All variables introduced in this way can be used in the expression before the <span style="font-family:courier;">\\</span> (see the picture below).</p>
<div style="position: absolute;height:6.75em;width:44.4444444444444em"><span><svg viewBox="0 0 711.111111111111 108" width="100%" height="100%">
<path d="M12.0888888888889 78L12.0888888888889 3L284.444444444444 3L284.444444444444 21L384 21L384 78 Z" fill="none" stroke="#000000"/>
<path d="M15.6444444444444 75L15.6444444444444 6L118.755555555556 6L118.755555555556 39L284.444444444444 39L284.444444444444 57L380.444444444444 57L380.444444444444 75 Z" fill="none" stroke="#000000"/>
</svg></span></div>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;">[&nbsp;expression&nbsp;\\&nbsp;&nbsp;selector&nbsp;&nbsp;&lt;-&nbsp;expression<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;guard<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;&nbsp;selector&nbsp;&nbsp;&lt;-&nbsp;expression<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;guard<br>
]<br><p></p><div style="background-color:#FFFF45;">ZF-expression:<br>expr1 yields [(0,0), (0,1), (0,2), (1,0), (1,1), (1,2), (2,0), (2,1), (2,2), (3,0), (3,1), (3,2)]<br>expr2 yields [(0,0), (1,1), (2,2)].<br>expr3 yields [(0,0), (1,0), (1,1), (2,0), (2,1), (2,2), (3,0), (3,1), (3,2), (3,3)])<br></div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
expr1&nbsp;=&nbsp;[(x,y)&nbsp;\\&nbsp;x&nbsp;&lt;-&nbsp;[0..3]&nbsp;,&nbsp;y&nbsp;&lt;-&nbsp;[0..2]]<br>
expr2&nbsp;=&nbsp;[(x,y)&nbsp;\\&nbsp;x&nbsp;&lt;-&nbsp;[0..3]&nbsp;&amp;&nbsp;y&nbsp;&lt;-&nbsp;[0..2]]<br>
expr3&nbsp;=&nbsp;[(x,y)&nbsp;\\&nbsp;x&nbsp;&lt;-&nbsp;[0..3]&nbsp;,&nbsp;y&nbsp;&lt;-&nbsp;[0..x]]<br></div>
<p></p>
<p></p><div style="background-color:#FFFF45;">ZF-expression: a well-know sort.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
sort::&nbsp;[a]&nbsp;-&gt;&nbsp;[a]&nbsp;|&nbsp;Ord&nbsp;a<br>
sort&nbsp;[]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[]<br>
sort&nbsp;[p:ps]&nbsp;&nbsp;=&nbsp;sort&nbsp;[x&nbsp;\\&nbsp;x&lt;-ps&nbsp;|&nbsp;x&lt;=p]&nbsp;++&nbsp;[p]&nbsp;++&nbsp;sort&nbsp;[x&nbsp;\\&nbsp;x&lt;-ps&nbsp;|&nbsp;x&gt;p]<br></div>
<p></p><p></p><div style="background-color:#FFFF45;">ZF-expression sorting a strict (head and tail strict) list.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
ssort::&nbsp;[!a!]&nbsp;-&gt;&nbsp;[!a!]&nbsp;|&nbsp;Ord&nbsp;a<br>
ssort&nbsp;[!!]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[!!]<br>
ssort&nbsp;[!p:ps!]&nbsp;&nbsp;&nbsp;=&nbsp;ssort&nbsp;[!x&nbsp;\\&nbsp;x&lt;|-ps&nbsp;|x&lt;=p!]&nbsp;++&nbsp;[!p!]&nbsp;++&nbsp;ssort&nbsp;[!x&nbsp;\\&nbsp;x&nbsp;&lt;|-ps&nbsp;|&nbsp;x&gt;p!]<br></div>
<p></p><p></p><div style="background-color:#FFFF45;">Overloaded ZF-expression sorting any list (lazy, strict or unboxed).</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
gsort::&nbsp;(l&nbsp;a)&nbsp;-&gt;&nbsp;(l&nbsp;a)&nbsp;|&nbsp;Ord&nbsp;a&nbsp;&amp;&nbsp;List&nbsp;l&nbsp;a<br>
gsort&nbsp;[|]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[|]<br>
gsort&nbsp;[|p:ps]&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;gsort&nbsp;[|x&nbsp;\\&nbsp;x&lt;|-ps&nbsp;|&nbsp;x&lt;=p]&nbsp;++&nbsp;[|p]&nbsp;++&nbsp;gsort&nbsp;[|x&nbsp;\\&nbsp;x&nbsp;&lt;|-ps&nbsp;|&nbsp;x&gt;p]<br></div>
<p></p><p></p><div style="background-color:#FFFF45;">ZF-expression: converting an array into a list.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
ArrayA&nbsp;=&nbsp;{1,2,3,4,5}<br>
<br>
ListA::&nbsp;[a]<br>
ListA&nbsp;=&nbsp;[a&nbsp;\\&nbsp;a&nbsp;&lt;-:&nbsp;ArrayA]<br></div>
<p></p><p style="text-align:justify;">Local definitions can be introduced in a ZF expression after generator(s) using <span style="font-family:courier;color:#993300;"><b>,</b></span> <span style="font-family:courier;color:#FF0000;"><b>let</b></span>:</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Qualifier</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">Generators { <span style="font-family:courier;color:#993300;"><b>,</b></span> <span style="font-family:courier;color:#FF0000;"><b>let</b></span> <span style="font-family:courier;color:#0000FF;"><b>{</b></span> {LocalDef}+ <span style="font-family:courier;color:#0000FF;"><b>}</b></span> } {<span style="font-family:courier;color:#993300;"><b>|</b></span>Guard}</td></tr>
</table><p></p>
<p style="text-align:justify;">The variables introduced in this way can be used in the guard and local definitions, other qualifiers that follow, and the expression before the <span style="font-family:courier;">\\</span>.</p>
<h3 style="background-color:#9999FF;"><a id="_4.2.2">4.2.2 List Patterns</a></h3>
<p style="text-align:justify;">An object of the predefined algebraic type <i>list</i> can be specified as pattern in a function, case expression or list generator.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ListPattern</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3"><span style="font-family:courier;color:#993300;"><b>[</b></span>[ListKind][{LGraphPattern}-list [<span style="font-family:courier;color:#993300;"><b>:</b></span> GraphPattern]] [SpineStrictness]<span style="font-family:courier;color:#993300;"><b>]</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">LGraphPattern</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">GraphPattern</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3">CharsDenotation</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ListKind</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// head strict list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>#</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// unboxed head strict list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>|</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// overloaded list</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">SpineStrictness</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// spine strict list</td></tr>
</table><p></p>
<p style="text-align:justify;">Notice that only simple list patterns can be specified (one cannot use a dot-dot expression or list comprehension to define a list pattern).</p>
<p></p><div style="background-color:#FFFF45;">Use of list patterns, use of guards, use of variables to identify patterns and sub-patterns; merge merges two (sorted) lazy lists into one (sorted) list.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
merge::&nbsp;[Int]&nbsp;[Int]&nbsp;-&gt;&nbsp;[Int]<br>
merge&nbsp;f&nbsp;[]&nbsp;&nbsp;&nbsp;=&nbsp;f<br>
merge&nbsp;[]&nbsp;s&nbsp;&nbsp;&nbsp;=&nbsp;s<br>
merge&nbsp;f=:[x:xs]&nbsp;s=:[y:ys]<br>
|&nbsp;x&lt;y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[x:merge&nbsp;xs&nbsp;s]<br>
|&nbsp;x==y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;merge&nbsp;f&nbsp;ys<br>
|&nbsp;<span style="font-family:courier;color:#FF0000;"><b>otherwise</b></span>&nbsp;&nbsp;=&nbsp;[y:merge&nbsp;f&nbsp;ys]<br></div>
<p></p><p></p><div style="background-color:#FFFF45;"><span style="font-family:courier;">merge_u</span> merges two (sorted) head strict unboxed lists into one strict unboxed (sorted) list.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
merge_u::&nbsp;[#Int]&nbsp;[#Int]&nbsp;-&gt;&nbsp;[#Int]<br>
merge_u&nbsp;f&nbsp;[#]&nbsp;=&nbsp;f<br>
merge_u&nbsp;[#]&nbsp;s&nbsp;=&nbsp;s<br>
merge_u&nbsp;f=:[#x:xs]&nbsp;s=:[#y:ys]<br>
|&nbsp;x&lt;y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[#x:merge_u&nbsp;xs&nbsp;s]<br>
|&nbsp;x==y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;merge_u&nbsp;f&nbsp;ys<br>
|&nbsp;<span style="font-family:courier;color:#FF0000;"><b>otherwise</b></span>&nbsp;&nbsp;&nbsp;=&nbsp;[#y:merge_u&nbsp;f&nbsp;ys]<br></div>
<p></p><p></p><div style="background-color:#FFFF45;"><span style="font-family:courier;">merge_l</span> merges two (sorted) lists into one (sorted) list. Any list (lazy, strict or unboxed) can be merged, but both lists have to be the same (both lazy, strict, head strict, tail strict or unboxed)</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
merge_l::&nbsp;(l&nbsp;a)(l&nbsp;a)&nbsp;-&gt;&nbsp;(l&nbsp;a)&nbsp;|&nbsp;List&nbsp;l&nbsp;a<br>
merge_l&nbsp;f&nbsp;[|]&nbsp;=&nbsp;f<br>
merge_l&nbsp;[|]&nbsp;s&nbsp;=&nbsp;s<br>
merge_l&nbsp;f=:[|x:xs]&nbsp;s=:[|y:ys]<br>
|&nbsp;x&lt;y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;[|x:merge_l&nbsp;xs&nbsp;s]<br>
|&nbsp;x==y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;merge_l&nbsp;f&nbsp;ys<br>
|&nbsp;<span style="font-family:courier;color:#FF0000;"><b>otherwise</b></span>&nbsp;&nbsp;&nbsp;=&nbsp;[|y:merge_l&nbsp;f&nbsp;ys]<br></div>
<p></p><h2 style="background-color:#9999FF;"><a id="_4.3">4.3 Tuples</a></h2>
<p style="text-align:justify;">A <i>tuple</i> is an algebraic data type predefined for reasons of programming convenience and efficiency. Tuples have as advantage that they allow bundling a <i>finite number</i> of objects of <i>arbitrary type</i> into a new object without being forced to define a new algebraic type for such a new object. This is in particular handy for functions that return several values.</p>
<h3 style="background-color:#9999FF;"><a id="_4.3.1">4.3.1 Creating Tuples</a></h3>
<p style="text-align:justify;"><i>Tuples</i> can be created that can be used to combine different (sub-)graphs into one data structure without being forced to define a new type for this combination. The elements of a tuple need <i>not</i> be of the same type. Tuples are in particular handy for functions that return multiple results.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Tuple</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(</b></span>GraphExpr<span style="font-family:courier;color:#993300;"><b>,</b></span>{GraphExpr}-list<span style="font-family:courier;color:#993300;"><b>)</b></span></td></tr>
</table><p></p>
<p></p><div style="background-color:#FFFF45;">Example of a Tuple of type <span style="font-family:courier;">(String,Int,[Char])</span>.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
("this&nbsp;is&nbsp;a&nbsp;tuple&nbsp;with",3,['elements'])<br></div>
<p></p><p style="text-align:justify;">One can turn a lazy tuple element into a strict one by putting strictness annotations in the corresponding type instance on the tuple elements that one would like to make strict. When the corresponding tuple is put into a strict context the tuple and the strict annotated tuple elements will be evaluated. As usual one has to take care that these elements do not represent an infinite computation.</p>
<p style="text-align:justify;">Strict and lazy tuples are regarded to be of different type. <i>However, unlike is the case with any other data structure, the compiler will automatically convert strict tuples into lazy ones, and the other way around.</i> This is done for programming convenience. Due to the complexity of this automatic transformation, the conversion is done for tuples only! For the programmer it means that he can freely mix tuples with strict and lazy tuple elements. The type system will not complain when a strict tuple is offered while a lazy tuple is required. The compiler will automatically insert code to convert non-strict tuple elements into a strict version and backwards whenever this is needed.</p>
<p></p><div style="background-color:#FFFF45;">Example of a complex number as tuple type with strict components.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
::Complex&nbsp;:==&nbsp;(!Real,!Real)<br>
<br>
(+)&nbsp;<span style="font-family:courier;color:#FF0000;"><b>infixl</b></span>&nbsp;6::&nbsp;!Complex&nbsp;!Complex&nbsp;-&gt;&nbsp;Complex<br>
(+)&nbsp;(r1,i1)&nbsp;(r2,i2)&nbsp;=&nbsp;(r1+r2,i1+i2)<br>
<br></div>
<div style="background-color:#FFFF45;">which is equivalent to</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
(+)&nbsp;<span style="font-family:courier;color:#FF0000;"><b>infixl</b></span>&nbsp;6::&nbsp;!(!Real,!Real)&nbsp;!(!Real,!Real)&nbsp;-&gt;&nbsp;(!Real,!Real)<br>
(+)&nbsp;(r1,i1)&nbsp;(r2,i2)&nbsp;=&nbsp;(r1+r2,i1+i2)<br>
<br></div>
<div style="background-color:#FFFF45;">when for instance G is defined as</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
G::&nbsp;Int&nbsp;-&gt;&nbsp;(Real,Real)<br>
<br></div>
<div style="background-color:#FFFF45;">than the following application is approved by the type system:</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
Start&nbsp;=&nbsp;G&nbsp;1&nbsp;+&nbsp;G<br>
<br></div>
<p></p><h3 style="background-color:#9999FF;"><a id="_4.3.2">4.3.2 Tuple Patterns</a></h3>
<p style="text-align:justify;">An object of the predefined algebraic type <i>tuple</i> can be specified as pattern in a function, case expression or list generator.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">TuplePattern</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(</b></span>GraphPattern<span style="font-family:courier;color:#993300;"><b>,</b></span>{GraphPattern}-list<span style="font-family:courier;color:#993300;"><b>)</b></span></td></tr>
</table><p></p>
<p></p><div style="background-color:#FFFF45;">Example of the use of a pattern match on Tuples to access components of a Complex number.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
::&nbsp;complex&nbsp;:==&nbsp;(Real,Real)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;complex&nbsp;is&nbsp;defined&nbsp;as&nbsp;type&nbsp;synonym&nbsp;for&nbsp;(real,Real)</span><br>
<br>
realpart::&nbsp;Complex&nbsp;-&gt;&nbsp;Real<br>
realpart&nbsp;(re,_)&nbsp;=&nbsp;re&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;selecting&nbsp;the&nbsp;real&nbsp;part&nbsp;of&nbsp;a&nbsp;Complex&nbsp;number</span><br>
<br>
imagpart::&nbsp;Complex&nbsp;-&gt;&nbsp;Real<br>
imagpart&nbsp;(_,im)&nbsp;=&nbsp;im&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;selecting&nbsp;the&nbsp;imaginary&nbsp;part&nbsp;of&nbsp;a&nbsp;Complex&nbsp;number</span><br></div>
<p></p><h2 style="background-color:#9999FF;"><a id="_4.4">4.4 Arrays</a></h2>
<p style="text-align:justify;">An <i>array</i> is an algebraic data type predefined for reasons of efficiency. Arrays contain a <i>finite number</i> of elements that all have to be of the <i>same type</i>. An array has as property that its elements can be accessed via <i>indexing</i> in <i>constant time</i>. An <i>array index</i> must be an integer value between <span style="font-family:courier;">0</span> and the number of elements of the array-<span style="font-family:courier;">1</span>. Destructive update of array elements is possible thanks to uniqueness typing. For programming convenience special syntax is provided for the creation, selection and updating of array elements (array comprehensions) while there is also special syntax for <i>strings</i> (i.e. unboxed arrays of characters). Arrays have as disadvantage that their use increases the possibility of a runtime error (indices that might get out-of-range).</p>
<p style="text-align:justify;">To obtain optimal efficiency in time and space, arrays are implemented different depending on the concrete type of the array elements. By default an array is implemented as a <i>lazy array</i> (type <span style="font-family:courier;">{a}</span>), i.e. an array consists of a contiguous block of memory containing pointers to the array elements. The same representation is chosen if <i>strict arrays</i> (define its type as <span style="font-family:courier;">{!a})</span> are being used. The difference is that <i>all</i> elements of a strict array will be evaluated if the array is evaluated. It makes no sense to make a distinction between head strictness and tail strictness for arrays as is the case for lists. As usual one has to take care that the strict elements do not represent an infinite computation.</p>
<p style="text-align:justify;">For elements of basic type, record type and tuple type an <i>unboxed array</i> (define its type as <span style="font-family:courier;">{#a}</span>) can be used. In that latter case the pointers are replaced by the array elements themselves. Lazy, strict and unboxed arrays are considered  to be objects of different type. However, most predefined operations on arrays are overloaded such that they can be used on lazy, on strict as well as on unboxed arrays.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8692929292929%;padding:0 0 4px 0;" colspan="3"><span style="font-family:courier;color:#993300;"><b>{</b></span>[ArrayKind] Type<span style="font-family:courier;color:#993300;"><b>}</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayKind</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>!</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// strict array</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>#</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// unboxed array</td></tr>
</table><p></p>
<h3 style="background-color:#9999FF;"><a id="_4.4.1">4.4.1 Creating Arrays and Selection of field Elements</a></h3>
<p style="text-align:justify;">An <i>array</i> is a tuple/record-like data structure in which <i>all</i> elements are of the <i>same type</i>. Instead of selection by position or field name the elements of an array can be selected very efficiently in <i>constant time</i> by indexing. The update of arrays is done destructively in CLEAN and therefore arrays have to be unique (<span style="color:blue;"><a href="CleanLanguageReport9.html#_9">see Chapter 9</a></span>) if one wants to use this feature. Arrays are very useful if time and space consumption is becoming very critical (CLEAN arrays are implemented very efficiently). If efficiency is not a big issue we recommend <i>not</i> to use arrays but to use lists instead: lists induce a much better programming style. Lists are more flexible and less error prone: array elements can only be accessed via indices and if you make a calculation error, indices may point outside the array bounds. This is detected, but only at run-time. In CLEAN, array indices always start with 0. More dimensional arrays (e.g. a matrix) can be defined as an array of arrays.</p>
<p style="text-align:justify;">For efficiency reasons, arrays are available of several types: there are <i>lazy arrays</i> (type <span style="font-family:courier;">{a}</span>), <i>strict arrays</i> (type <span style="font-family:courier;">{!a}</span>) and <i>unboxed arrays</i> (e.g. type<span style="font-family:courier;">{#Int}</span>). All these arrays are considered to be of <i>different</i> type. By using the overloading mechanism (type constructor classes) one can still define (overloaded) functions that work on any of these arrays.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Array</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">ArrayDenotation</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">ArrayUpdate</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">ArrayComprehension</td></tr>
</table><p></p>
<p></p><table style="width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">All elements of an array need to be of same type.</td></tr>
</table>
<h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Simple Array</h3>
<p style="text-align:justify;">A new array can be created in a number of ways. A direct way is to simply <i>list</i> the <i>array elements</i>.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{</b></span>[ArrayKind] {GraphExpr}-list<span style="font-family:courier;color:#993300;"><b>}</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">StringDenotation</td></tr>
</table><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">StringDenotation</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">StringDel{AnyChar/StringDel}StringDel</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">StringDel</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>"</b></span></td></tr>
</table><p></p>
<p style="text-align:justify;">By default this array denotation is overloaded. The type determines whether a lazy, strict or unboxed array is created. The created array is <i>unique</i> (the <span style="font-family:courier;">*</span> or <span style="font-family:courier;">.</span> attribute in front of the type, <span style="color:blue;"><a href="CleanLanguageReport9.html#_9">see Chapter 9</a></span>) to make destructive updates possible.</p>
<p style="text-align:justify;">A lazy array is a box with pointers pointing to the array elements. One can also create a strict array by adding a <span style="font-family:courier;">!</span> after <span style="font-family:courier;">{</span> (or explicitly define its type as <span style="font-family:courier;">{!Int}</span>), which will have the property that the elements to which the array box points will always be evaluated. One can furthermore create an unboxed array by adding a <span style="font-family:courier;">#</span> (or explicitly define its type as <span style="font-family:courier;">{#Int}</span>), which will have the property that the evaluated elements (which have to be of basic value) are stored directly in the array box itself. Clearly the last one is the most efficient representation (<span style="color:blue;"><a href="CleanLanguageReport10.html#_10">see also Chapter 10</a></span>).</p>
<p></p><div style="background-color:#FFFF45;">Creating a lazy array, strict and unboxed unique array of integers with elements 1,3,5,7,9.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
MyLazyArray::&nbsp;.{Int}<br>
MyLazyArray&nbsp;=&nbsp;{1,3,5,7,9}&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;overloaded&nbsp;array&nbsp;denotation</span><br>
<br>
MyStrictArray::&nbsp;.{!Int}<br>
MyStrictArray&nbsp;=&nbsp;{!1,3,5,7,9}<br>
<br>
MyUnboxedArray::&nbsp;.{#Int}<br>
MyUnboxedArray&nbsp;=&nbsp;{#1,3,5,7,9}<br></div>
<p></p><p></p><div style="background-color:#FFFF45;">Creating a two dimensional array, in this case a unique array of unique arrays of unboxed integers.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
MatrixA::&nbsp;{.{#Int}}<br>
MatrixA&nbsp;=&nbsp;{{1,2,3,4},{5,6,7,8}}<br></div>
<p></p><p style="text-align:justify;">To make it possible to use operators such as array selection on any of these arrays (of actually different type) a multi parameter type constructor class has been defined (in <span style="font-family:courier;">StdArray</span>) which expresses that "some kind of array structure is created". The compiler will therefore deduce the following general type:</p>
<p></p>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;">Array&nbsp;::&nbsp;.(a&nbsp;Int)|&nbsp;Array&nbsp;a&nbsp;Int<br>
Array&nbsp;=&nbsp;{1,3,5,7,9}<br><p></p>
<p style="text-align:justify;">A <i>string</i> is predefined type which equivalent to an <i>unboxed array of characters</i> <span style="font-family:courier;">{#Char}</span>. Notice that this array is <i>not</i> unique, such that a destructive update of a string is <i>not</i> allowed. There is special syntax to denote strings.</p>
<p></p><div style="background-color:#FFFF45;">Some ways to define a string, i.e. an unboxed array of character.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
"abc"<br>
{'a','b','c'}<br></div>
<p></p><p style="text-align:justify;">There are a number of handy functions for the creation and manipulation of arrays predefined in CLEAN 's Standard Environment. These functions are overloaded to be able to deal with any type of array. The class restrictions for these functions express that "an array structure is required" containing "an array element".</p>
<p></p><div style="background-color:#FFFF45;">Type of some predefined functions on <span style="font-family:courier;">Arrays</span>.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
createArray&nbsp;&nbsp;::&nbsp;!Int&nbsp;e&nbsp;-&gt;.(a&nbsp;e)&nbsp;|&nbsp;Array&nbsp;a&nbsp;e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;size&nbsp;arg1,&nbsp;a.[i]&nbsp;=&nbsp;arg2</span><br>
size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::&nbsp;(a&nbsp;e)&nbsp;-&gt;&nbsp;Int&nbsp;|&nbsp;Array&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0000FF;">//&nbsp;number&nbsp;of&nbsp;elements&nbsp;in&nbsp;array</span><br></div>
<p></p><h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Array Update and Array Comprehensions</h3>
<p style="text-align:justify;">It is also possible to construct a new array out of an existing one (a <i>functional array update</i>).</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayUpdate</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{</b></span> ArrayExpr <span style="font-family:courier;color:#993300;"><b>&amp;</b></span> {ArrayIndex {Selection} <span style="font-family:courier;color:#993300;"><b>=</b></span> GraphExpr}-list [<span style="font-family:courier;color:#993300;"><b>\\</b></span> {Qualifier}-list]<span style="font-family:courier;color:#993300;"><b>}</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayComprehension</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{</b></span>[ArrayKind] GraphExpr <span style="font-family:courier;color:#993300;"><b>\\</b></span> {Qualifier}-list<span style="font-family:courier;color:#993300;"><b>}</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Selection</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>.</b></span><span style="font-family:courier;">FieldName</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>.</b></span>ArrayIndex</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">GraphExpr</td></tr>
</table><p></p>
<p style="text-align:justify;">Left from the <span style="font-family:courier;">&amp; (a &amp; [i] = v</span> is pronounced as: array <span style="font-family:courier;">a</span> with for <span style="font-family:courier;">a.[i]</span> the value <span style="font-family:courier;">v</span>. The old array has to be specified which has to be of unique type to make destructive updating possible. On the right from the <span style="font-family:courier;">&amp;</span> those array elements are listed in which the new array differs from the old one. One can change any element of the array or any field or array element of a record or array stored in the array. The <span style="font-family:courier;">&amp;</span>-operator is strict in its arguments.</p>
<table style="border-spacing:0;width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">An array expression must be of type array.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">The array expression to the left of the update operator '<span style="font-family:courier;">&amp;</span>' should yield an object of type unique array.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">An array index must be an integer value between <span style="font-family:courier;">0</span> and the number of elements of the array-<span style="font-family:courier;">1</span>. An index out of this range will result in a <i>run-time</i> error.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">Unboxed arrays can only be of basic type, record type or array type.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;"><i>A unique array of any type created by an overloaded function cannot be converted to a non-unique array.</i></td></tr>
</table>
<p style="text-align:justify;"><i>Important</i>: For reasons of efficiency we have defined the updates only on arrays which are of <i>unique</i> type (<span style="font-family:courier;">*{..}</span>), such that the update can always be done <i>destructively</i> (!) which is semantically sound because the original unique array is known not to be used anymore.</p>
<p></p><div style="background-color:#FFFF45;">Creating an array with the integer elements 1,3,5,7,9 using the update operator.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
{CreateArray&nbsp;5&nbsp;0&nbsp;&amp;&nbsp;[0]&nbsp;=&nbsp;1,&nbsp;[1]&nbsp;=&nbsp;3,&nbsp;[2]&nbsp;=&nbsp;5,&nbsp;[3]&nbsp;=&nbsp;7,&nbsp;[4]&nbsp;=&nbsp;9}<br>
{CreateArray&nbsp;5&nbsp;0&nbsp;&amp;&nbsp;[1]&nbsp;=&nbsp;3,&nbsp;[0]&nbsp;=&nbsp;1,&nbsp;[3]&nbsp;=&nbsp;7,&nbsp;[4]&nbsp;=&nbsp;9,&nbsp;[2]&nbsp;=&nbsp;5}<br></div>
<p></p><p style="text-align:justify;">One can use an <i>array comprehension</i> to list these elements compactly in the same spirit as with a list comprehension (<span style="color:blue;"><a href="#_4.2.1">see 4.2.1</a></span>).</p>
<p style="text-align:justify;">Array comprehensions can be used in combination with the update operator. Used in combination with the update operator the original uniquely typed array is updated destructively. The combination of array comprehensions and update operator makes it possible to selectively update array elements on a high level of abstraction.</p>
<p></p><div style="background-color:#FFFF45;">Creating an array with the integer elements 1,3,5,7,9 using the update operator in combination with array and list comprehensions.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
{CreateArray&nbsp;5&nbsp;0&nbsp;&amp;&nbsp;[i]&nbsp;=&nbsp;2*i+1&nbsp;\\&nbsp;i&nbsp;&lt;-&nbsp;[0..4]}<br>
{CreateArray&nbsp;5&nbsp;0&nbsp;&amp;&nbsp;[i]&nbsp;=&nbsp;elem&nbsp;\\&nbsp;elem&nbsp;&lt;-:&nbsp;{1,3,5,7,9}&nbsp;&amp;&nbsp;i&nbsp;&lt;-&nbsp;[0..4]}<br>
{CreateArray&nbsp;5&nbsp;0&nbsp;&amp;&nbsp;elem&nbsp;\\&nbsp;elem&nbsp;&lt;-:&nbsp;{1,3,5,7,9}}<br></div>
<p></p><p style="text-align:justify;">Array comprehensions used without update operator automatically generate a whole new array. The size of this new array will be equal to the size of the first array or list generator from which elements are drawn. Drawn elements that are rejected by a corresponding guard result in an undefined array element on the corresponding position.</p>
<p></p><div style="background-color:#FFFF45;">Creating an array with the integer elements 1,3,5,7,9 using array and list comprehensions.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
{elem&nbsp;\\&nbsp;elem&nbsp;&lt;-:&nbsp;{1,3,5,7,9}}<br>
{elem&nbsp;\\&nbsp;elem&nbsp;&lt;-&nbsp;&nbsp;[1,3,5,7,9]}<br></div>
<p></p><p></p><div style="background-color:#FFFF45;">Array creation, selection, update). The most general types have been defined. One can of course always restrict to a more specific type.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
MkArray::&nbsp;!Int&nbsp;(Int&nbsp;-&gt;&nbsp;e)&nbsp;-&gt;.(a&nbsp;e)&nbsp;|&nbsp;Array&nbsp;a&nbsp;e<br>
MkArray&nbsp;i&nbsp;f&nbsp;=&nbsp;{f&nbsp;j&nbsp;\\&nbsp;j&nbsp;&lt;-&nbsp;[0..i-1]}<br>
<br>
SetArray::&nbsp;*(a&nbsp;e)&nbsp;Int&nbsp;e&nbsp;-&gt;.(a&nbsp;e)&nbsp;|&nbsp;Array&nbsp;a&nbsp;e<br>
SetArray&nbsp;a&nbsp;i&nbsp;v&nbsp;=&nbsp;{a&nbsp;&amp;&nbsp;[i]&nbsp;=&nbsp;v}<br>
<br>
CA::&nbsp;Int&nbsp;e&nbsp;-&gt;.(a&nbsp;e)&nbsp;|&nbsp;Array&nbsp;a&nbsp;e<br>
CA&nbsp;i&nbsp;e&nbsp;=&nbsp;createArray&nbsp;i&nbsp;e<br>
<br>
InvPerm::&nbsp;{Int}&nbsp;-&gt;.{Int}<br>
InvPerm&nbsp;a&nbsp;=&nbsp;{CA&nbsp;(size&nbsp;a)&nbsp;0&nbsp;&amp;&nbsp;[a.[i]]&nbsp;=&nbsp;i&nbsp;\\&nbsp;i&nbsp;&lt;-&nbsp;[0..maxindex&nbsp;a]}<br>
<br>
ScaleArray::&nbsp;e&nbsp;(a&nbsp;e)&nbsp;-&gt;.(a&nbsp;e)&nbsp;|&nbsp;Array&nbsp;a&nbsp;e&nbsp;&amp;&nbsp;Arith&nbsp;e<br>
ScaleArray&nbsp;x&nbsp;a&nbsp;=&nbsp;{x&nbsp;*&nbsp;e&nbsp;\\&nbsp;e&nbsp;&lt;-:&nbsp;a}<br>
<br>
MapArray::&nbsp;(a&nbsp;-&gt;&nbsp;b)&nbsp;(ar&nbsp;a)&nbsp;-&gt;.(ar&nbsp;b)&nbsp;|&nbsp;Array&nbsp;ar&nbsp;a&nbsp;&amp;&nbsp;Array&nbsp;ar&nbsp;b<br>
MapArray&nbsp;f&nbsp;a&nbsp;=&nbsp;{f&nbsp;e&nbsp;\\&nbsp;e&nbsp;&lt;-:&nbsp;a}<br>
<br>
inner::&nbsp;(a&nbsp;e)&nbsp;(a&nbsp;e)&nbsp;-&gt;.(a&nbsp;e)&nbsp;|&nbsp;Array&nbsp;a&nbsp;e&nbsp;&amp;&nbsp;Arith&nbsp;e<br>
inner&nbsp;v&nbsp;w<br>
|&nbsp;size&nbsp;v&nbsp;==&nbsp;size&nbsp;w&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;{vi&nbsp;*&nbsp;wi&nbsp;\\&nbsp;vi&nbsp;&lt;-:&nbsp;v&nbsp;&amp;&nbsp;wi&nbsp;&lt;-:&nbsp;w}<br>
|&nbsp;otherwise&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;abort&nbsp;"cannot&nbsp;take&nbsp;inner&nbsp;product"<br>
<br>
ToArray::&nbsp;[e]&nbsp;-&gt;.(a&nbsp;e)&nbsp;|&nbsp;Array&nbsp;a&nbsp;e<br>
ToArray&nbsp;list&nbsp;=&nbsp;{e&nbsp;\\&nbsp;e&nbsp;&lt;-&nbsp;list}<br>
<br>
ToList::&nbsp;(a&nbsp;e)&nbsp;-&gt;.[e]&nbsp;|&nbsp;Array&nbsp;a&nbsp;e<br>
ToList&nbsp;array&nbsp;=&nbsp;[e&nbsp;\\&nbsp;e&nbsp;&lt;-:&nbsp;array]<br></div>
<p></p><p></p><div style="background-color:#FFFF45;">Example of operations on 2 dimensional arrays generating new arrays.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
maxindex&nbsp;n&nbsp;:==&nbsp;size&nbsp;n&nbsp;-&nbsp;1<br>
<br>
Adj::&nbsp;{{#Int}}&nbsp;-&gt;.{.{#Int}}<br>
Adj&nbsp;ma&nbsp;=&nbsp;{{ma.[i,j]&nbsp;\\&nbsp;i&nbsp;&lt;-&nbsp;rowindex}&nbsp;\\&nbsp;j&nbsp;&lt;-&nbsp;colindex}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:courier;color:#FF0000;"><b>where</b></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;rowindex&nbsp;=&nbsp;[0..maxindex&nbsp;ma]<br>
&nbsp;&nbsp;&nbsp;&nbsp;colindex&nbsp;=&nbsp;[0..maxindex&nbsp;ma.[0]]<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;Multiply::&nbsp;{{#Int}}&nbsp;{{#Int}}&nbsp;-&gt;.{.{#Int}}<br>
&nbsp;&nbsp;&nbsp;&nbsp;Multiply&nbsp;a&nbsp;b&nbsp;=&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;{sum&nbsp;[a.[i,j]*b.[j,k]&nbsp;\\&nbsp;j&nbsp;&lt;-&nbsp;colindex]&nbsp;\\&nbsp;k&nbsp;&lt;-&nbsp;rowindex}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\&nbsp;i&nbsp;&lt;-&nbsp;rowindex<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family:courier;color:#FF0000;"><b>where</b></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rowindex&nbsp;=&nbsp;[0..maxindex&nbsp;a]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colindex&nbsp;=&nbsp;[0..maxindex&nbsp;a.[0]]<br></div>
<p></p><p></p><div style="background-color:#FFFF45;">Updating unique arrays using a unique array selection.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
MyArray::&nbsp;.{#Real}<br>
MyArray&nbsp;=&nbsp;{1.5,2.3,3.4}<br>
<br>
ScaleArrayElem::&nbsp;*{#Real}&nbsp;Int&nbsp;Real&nbsp;-&gt;&nbsp;.{#Real}<br>
ScaleArrayElem&nbsp;ar&nbsp;i&nbsp;factor<br>
#&nbsp;(elem,ar)&nbsp;=&nbsp;ar![i]<br>
=&nbsp;{ar&nbsp;&amp;&nbsp;[i]&nbsp;=&nbsp;elem*factor}<br>
<br>
Scale2DArrayElem::&nbsp;{*{#Real}}&nbsp;(Int,Int)&nbsp;Real&nbsp;-&gt;&nbsp;{.{#Real}}<br>
Scale2DArrayElem&nbsp;ar&nbsp;(i,j)&nbsp;factor<br>
#&nbsp;(elem,ar)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;ar![i].[j]<br>
=&nbsp;{ar&nbsp;&amp;&nbsp;[i].[j]&nbsp;&nbsp;&nbsp;=&nbsp;elem*factor}<br>
<br>
Scale2DArrayElem2::&nbsp;{*{#Real}}&nbsp;(Int,Int)&nbsp;Real&nbsp;-&gt;&nbsp;{.{#Real}}<br>
Scale2DArrayElem2&nbsp;ar&nbsp;(i,j)&nbsp;factor<br>
#&nbsp;(elem,ar)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;ar![i,j]<br>
=&nbsp;{ar&nbsp;&amp;&nbsp;[i,j]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;elem*factor}<br></div>
<p></p><h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# with Array Update</h3>
<p style="text-align:justify;"><span style="font-family:courier;">variable = {variable &amp; </span>updates<span style="font-family:courier;">}</span> after <span style="font-family:courier;">#</span> or <span style="font-family:courier;">#!</span> can be abbreviated to <span style="font-family:courier;">variable &amp; </span>updates, by omitting <span style="font-family:courier;">= {variable</span> and <span style="font-family:courier;">}</span>.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:0.472727272727273%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:72.4581818181818%;padding:0 0 4px 0;">Variable <span style="font-family:courier;color:#993300;"><b>&amp;</b></span> {ArrayIndex {Selection} <span style="font-family:courier;color:#993300;"><b>=</b></span> GraphExpr}-list [<span style="font-family:courier;color:#993300;"><b>\\</b></span> {Qualifier}-list] <span style="font-family:courier;color:#0000FF;"><b>;</b></span></td></tr>
</table><p></p>
<p style="text-align:justify;">For example</p>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;">#&nbsp;a&nbsp;&amp;&nbsp;[i]&nbsp;=&nbsp;x<br><div style="background-color:#FFFF45;">instead of</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;">#&nbsp;a&nbsp;=&nbsp;{a&nbsp;&amp;&nbsp;[i]&nbsp;=&nbsp;x}<br></div>
<p></p><p style="text-align:justify;">Multiple indices and fields are also possible, for example: (for record updates <span style="color:blue;"><a href="CleanLanguageReport5.html#_5.2.1">see 5.2.1 below</a></span>)</p>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;">#&nbsp;r&nbsp;&amp;&nbsp;a.[i].x&nbsp;=&nbsp;y<br><div style="background-color:#FFFF45;">instead of</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;">#&nbsp;r&nbsp;=&nbsp;{r&nbsp;&amp;&nbsp;a.[i].x&nbsp;=&nbsp;y}<br></div>
<p></p><h3 style="background-color:#9999FF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Selection of an Array Element</h3>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArraySelection</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"> ArrayExpr<span style="font-family:courier;color:#993300;"><b>.</b></span>ArrayIndex {Selection}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">[ArrayExpr<span style="font-family:courier;color:#993300;"><b>!</b></span>ArrayIndex {Selection}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayIndex</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[</b></span>{IntegerExpr}-list<span style="font-family:courier;color:#993300;"><b>]</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">IntegerExpr</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">GraphExpr</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">Selection</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>.</b></span><span style="font-family:courier;">FieldName</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>.</b></span>ArrayIndex</td></tr>
</table><p></p>
<p style="text-align:justify;">With an <i>array selection</i> (using the '<span style="font-family:courier;">.</span>' symbol) one can select an array element. When an object <span style="font-family:courier;">a</span> is of type <span style="font-family:courier;">Array</span>, the <span style="font-family:courier;">i</span>th element can be selected (computed) via <span style="font-family:courier;">a.[i]</span>. Array selection is left-associative: <span style="font-family:courier;">a.[i,j,k]</span> means <span style="font-family:courier;">((a.[i]).[j]).[k]</span>. A "unique" selection using the '<span style="font-family:courier;">!</span>' symbol returns a tuple containing the demanded array element and the original array. This type of array selection can be very handy for destructively updating of uniquely typed arrays with values that depend on the current contents of the array. Array selection binds more tightly (priority <span style="font-family:courier;">11</span>) than application (priority <span style="font-family:courier;">10</span>).</p>
<h3 style="background-color:#9999FF;"><a id="_4.4.2">4.4.2 Array Patterns</a></h3>
<p style="text-align:justify;">An object of type <i>array</i> can be specified as pattern. Notice that only simple array patterns can be specified on the left-hand side (one cannot use array comprehensions). Only those array elements which contents one would like to use in the right-hand side need to be mentioned in the pattern.</p>
<table style="border-spacing:0;width:100%;"><tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">All array elements of an array need to be of same type.</td></tr>
<tr><td style="vertical-align:top;width:30px;"><table style="border-top:7px solid white;border-bottom:1px solid white;border-left:0px solid white;border-right:8px solid white;width:16px;height:16px;background:#FFCC99;float:left"></table>
</td><td style="text-align:justify;">An array index must be an integer value between <span style="font-family:courier;">0</span> and the number of elements of the array-<span style="font-family:courier;">1</span>. Accessing an array with an index out of this range will result in a <i>run-time</i> error.</td></tr>
</table>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrayPattern</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{</b></span>{GraphPattern}-list<span style="font-family:courier;color:#993300;"><b>}</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{</b></span>{ArrayIndex <span style="font-family:courier;color:#993300;"><b>=</b></span> Variable}-list<span style="font-family:courier;color:#993300;"><b>}</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;">StringDenotation</td></tr>
</table><p></p>
<p style="text-align:justify;">It is allowed in the pattern to use an index expression in terms of the other formal arguments (of type <span style="font-family:courier;">Int</span>) passed to the function to make a flexible array access possible.</p>
<p></p><div style="background-color:#FFFF45;">Use of array patterns.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
Swap::&nbsp;!Int&nbsp;!Int&nbsp;!*(a&nbsp;e)&nbsp;-&gt;.(a&nbsp;e)&nbsp;|&nbsp;Array&nbsp;a&nbsp;e<br>
Swap&nbsp;i&nbsp;j&nbsp;a=:{[i]=ai,[j]=aj}&nbsp;=&nbsp;{a&nbsp;&amp;&nbsp;[i]=aj,[j]=ai}<br></div>
<p></p><h2 style="background-color:#9999FF;"><a id="_4.5">4.5 Predefined Type Constructors</a></h2>
<p style="text-align:justify;">Predefined types can also be used in curried way. To make this possible a type constructor has been predefined for all predefined types of higher order kind (<span style="color:blue;"><a href="CleanLanguageReport5.html#_5.1.2">see also 5.1.2</a></span>). The kind <span style="font-family:courier;">X</span> stands for any so-called <i>first-order</i> type: a type expecting no further arguments ((<span style="font-family:courier;">Int</span>, <span style="font-family:courier;">Bool</span>, <span style="font-family:courier;">[Int]</span>, etcetera). All function arguments are of kind <span style="font-family:courier;">X</span>. The kind <span style="font-family:courier;">X -&gt; X</span> stands for a type that can be applied to a (first-order) type, which then yields another first-order type, <span style="font-family:courier;">X -&gt; X -&gt; X</span> expects two type arguments, and so on.</p>
<p></p>
<p style="font-family:courier;margin:0px;background-color:#FFFF99;line-height:1.125;">Int,&nbsp;Bool,&nbsp;[Int],&nbsp;Tree&nbsp;[Int]&nbsp;&nbsp;&nbsp;::&nbsp;X<br>
[],&nbsp;Tree,&nbsp;(,)&nbsp;Int,&nbsp;(-&gt;)&nbsp;a,&nbsp;{}&nbsp;&nbsp;::&nbsp;X&nbsp;-&gt;&nbsp;X<br>
(,),&nbsp;(-&gt;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::&nbsp;X&nbsp;-&gt;&nbsp;X&nbsp;-&gt;&nbsp;X<br>
(,,)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::&nbsp;X&nbsp;-&gt;&nbsp;X&nbsp;-&gt;&nbsp;X&nbsp;-&gt;&nbsp;X<br><p></p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">PredefinedTypeConstructor</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[]</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// list type constructor</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[! ]</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// head strict list type constructor</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[ !]</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// tail strict list type constructor</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[!!]</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// strict list type constructor</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[#]</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// unboxed head strict list type</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>[#!]</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// unboxed strict list type</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(</b></span>{<span style="font-family:courier;color:#993300;"><b>,</b></span>}+<span style="font-family:courier;color:#993300;"><b>)</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// tuple type constructor (arity &gt;= 2)</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{}</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// lazy array type constructor</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{!}</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// strict array type constructor</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>{#}</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// unboxed array type constructor</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(-&gt;)</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// arrow type constructor</td></tr>
</table><p></p>
<p></p><div style="background-color:#FFFF45;">So, all predefined types can be written down in prefix notation as well, as follows:</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;">[]&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;[a]<br>
[!&nbsp;]&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;[!a]<br>
[&nbsp;!]&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;[a!]<br>
[!!]&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;[!a!]<br>
[#&nbsp;]&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;[#a]<br>
[#!]&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;[#a!]<br>
(,)&nbsp;a&nbsp;b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;(a,b)<br>
(,,)&nbsp;a&nbsp;b&nbsp;c&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;(a,b,c)&nbsp;and&nbsp;so&nbsp;on&nbsp;for&nbsp;n-tuples<br>
{}&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;{a}<br>
{!}&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;{!a}<br>
{#}&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;{#a}<br>
(-&gt;)&nbsp;a&nbsp;b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;equivalent&nbsp;with&nbsp;(a&nbsp;-&gt;&nbsp;b)<br></div>
<p></p><h2 style="background-color:#9999FF;"><a id="_4.6">4.6 Arrow Types</a></h2>
<p style="text-align:justify;">The <i>arrow type</i> is a predefined type constructor used to indicate <i>function objects</i> (these functions have at least arity one). One can use the Cartesian product (uncurried version) to denote the function type (<span style="color:blue;"><a href="CleanLanguageReport3.html#_3.7">see 3.7</a></span>) to obtain a compact notation. Curried functions applications and types are automatically converted to their uncurried equivalent versions.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">ArrowType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>(</b></span>Type <span style="font-family:courier;color:#993300;"><b>-&gt;</b></span> Type<span style="font-family:courier;color:#993300;"><b>)</b></span></td></tr>
</table><p></p>
<p></p><div style="background-color:#FFFF45;">Example of an arrow type.</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
((a&nbsp;b&nbsp;-&gt;&nbsp;c)&nbsp;[a]&nbsp;[b]&nbsp;-&gt;&nbsp;[c])<br>
<br></div>
<div style="background-color:#FFFF45;">being equivalent with:</div>
<div style="font-family:courier;margin:0px;background-color:#FFFF99;"><br>
((a&nbsp;-&gt;&nbsp;b&nbsp;-&gt;&nbsp;c)&nbsp;-&gt;&nbsp;[a]&nbsp;-&gt;&nbsp;[b]&nbsp;-&gt;&nbsp;[c])<br></div>
<p></p><h2 style="background-color:#9999FF;"><a id="_4.7">4.7 Predefined Abstract And Synonym Types</a></h2>
<p style="text-align:justify;"><i>Abstract data types</i> are types of which the actual definition is hidden (<span style="color:blue;"><a href="CleanLanguageReport5.html#_5.4">see 5.4</a></span>). In CLEAN the types <span style="font-family:courier;">World</span> and <span style="font-family:courier;">File</span> are <i>predefined abstract data types</i>. They are recognised by the compiler and treated specially, either for efficiency or because they play a special role in the language. Since the actual definition is hidden it is not possible to denotate constant values of these predefined abstract types. There are functions predefined in the CLEAN library for the creation and manipulation of these predefined abstract data types. Some functions work (only) on unique objects.</p>
<p style="text-align:justify;">An object of type <span style="font-family:courier;">*World</span> (<span style="font-family:courier;">*</span> indicates that the world is unique) is automatically created when a program is started. This object is optionally given as argument to the <span style="font-family:courier;">Start</span> function  (<span style="color:blue;"><a href="CleanLanguageReport2.html#_2.3">see 2.3</a></span>). With this object efficient interfacing with the outside world (which is indeed unique) is possible.</p>
<p style="text-align:justify;">An object of type <span style="font-family:courier;">File</span> or <span style="font-family:courier;">*File</span> (unique <span style="font-family:courier;">File</span>) can be created by means of the functions defined in <span style="font-family:courier;">StdFileIO</span> (see CLEANs Standard Library). It makes direct manipulation of persistent data possible. The type <span style="font-family:courier;">File</span> is predefined for reasons of efficiency: CLEAN <span style="font-family:courier;">Files</span> are directly coupled to concrete files.</p>
<p style="text-align:justify;">The type String is a predefined synonym type that is predefined for convenience. The type is synonym for an unboxed array of characters <span style="font-family:courier;">{#Char}</span>.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">PredefType</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>World</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// see <span style="font-family:courier;">StdWorld.dcl</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>File</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// see <span style="font-family:courier;">StdFileIO.dcl</span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>String</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// synonym for {#Char}</td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;"></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">|</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:27.0690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>()</b></span></td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:42.78%;padding:0 0 4px 0;">// unit type</td></tr>
</table><p></p>
<h2 style="background-color:#9999FF;"><a id="_4.8">4.8 Predefined Unit Type</a></h2>
<p style="text-align:justify;">The unit type is a predefined type with type constructor <span style="font-family:courier;">()</span> <span style="color:blue;"><a href="#_4.7">(see 4.7)</a></span> and constructor <span style="font-family:courier;">()</span>.</p>
<table style="background-color:#FFCC99;width:100%;" cellspacing="0" cellpadding="0"><tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">UnitPattern</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>()</b></span></td></tr>
<tr><td style="width:23.0290909090909%;padding:0 0 4px 0;">UnitConstructor</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:1.06181818181818%;padding:0 0 4px 0;">=</td><td style="width:2.02020202020202%;padding:0 0 4px 0;"></td><td style="width:71.8690909090909%;padding:0 0 4px 0;"><span style="font-family:courier;color:#993300;"><b>()</b></span></td></tr>
</table><p></p>
</body>
</html>
